import{x as e,aB as a,ag as l,y as s,z as n,P as t,H as o,u as d,O as r,a4 as u,G as c,A as i,M as p,J as f,aA as _,r as m}from"./vendor-BVd4RN3d.js";import{u as v}from"./index-CFSbY6bd.js";import{_ as h}from"./_plugin-vue_export-helper-BCo6x5W8.js";import{a as x,u as g,s as w,b,d as y}from"./element-plus-CCDyQ1z5.js";const k={class:"sidebar-container"},I=h(e({__name:"Sidebar",props:{collapsed:{type:Boolean}},setup(e){const _=a(),m=v();return(e,a)=>{const v=l("el-icon"),h=l("el-menu-item"),x=l("el-menu"),g=l("el-scrollbar");return s(),n("div",k,[t(g,null,{default:o((()=>[t(x,{"default-active":d(_).path,collapse:e.collapsed,"unique-opened":!0,"collapse-transition":!1,class:"el-menu-vertical","background-color":"#34495e","text-color":"#b8c7ce","active-text-color":"#ffffff",router:""},{default:o((()=>{var e;return[(s(!0),n(r,null,u(null==(e=d(m).userInfo)?void 0:e.menus,(e=>(s(),c(h,{key:e.id,index:e.path},{title:o((()=>[i("span",null,p(e.name),1)])),default:o((()=>[t(v,null,{default:o((()=>[(s(),c(f(e.icon)))])),_:2},1024)])),_:2},1032,["index"])))),128))]})),_:1},8,["default-active","collapse"])])),_:1})])}}}),[["__scopeId","data-v-d7d2db05"]]),j={class:"main-header"},A={class:"right"},B={class:"user-info"},z={class:"username"},C=h(e({__name:"Header",props:{collapsed:{type:Boolean}},emits:["update:collapsed"],setup(e,{emit:a}){const r=v(),u=_(),c=()=>{u.push("/profile")},f=async()=>{try{await x.confirm("确认退出登录吗？","提示",{type:"warning"}),r.clearAuth(),u.push("/login")}catch{}};return(e,a)=>{const u=l("el-avatar"),_=l("el-icon"),m=l("el-dropdown-item"),v=l("el-dropdown-menu"),h=l("el-dropdown");return s(),n("div",j,[a[2]||(a[2]=i("div",{class:"left"},[i("h1",{class:"logo"},"文知管理系统")],-1)),i("div",A,[t(h,{trigger:"click"},{dropdown:o((()=>[t(v,null,{default:o((()=>[t(m,{onClick:c},{default:o((()=>[t(_,null,{default:o((()=>[t(d(g))])),_:1}),a[0]||(a[0]=i("span",null,"个人中心",-1))])),_:1}),t(m,{divided:"",onClick:f},{default:o((()=>[t(_,null,{default:o((()=>[t(d(w))])),_:1}),a[1]||(a[1]=i("span",null,"退出登录",-1))])),_:1})])),_:1})])),default:o((()=>{var e;return[i("div",B,[t(u,{size:32,icon:d(b),class:"user-avatar"},null,8,["icon"]),i("span",z,p(null==(e=d(r).userInfo)?void 0:e.username),1),t(_,{class:"el-icon--right"},{default:o((()=>[t(d(y))])),_:1})])]})),_:1})])])}}}),[["__scopeId","data-v-8fae881d"]]),H={class:"app-wrapper"},q=h(e({__name:"index",setup(e){const a=m(!1);return(e,d)=>{const r=l("el-header"),u=l("el-aside"),c=l("router-view"),i=l("el-main"),p=l("el-container");return s(),n("div",H,[t(p,{class:"layout-container"},{default:o((()=>[t(r,{class:"header"},{default:o((()=>[t(C,{collapsed:a.value,"onUpdate:collapsed":d[0]||(d[0]=e=>a.value=e)},null,8,["collapsed"])])),_:1}),t(p,{class:"main-container"},{default:o((()=>[t(u,{width:a.value?"64px":"200px",class:"aside"},{default:o((()=>[t(I,{collapsed:a.value},null,8,["collapsed"])])),_:1},8,["width"]),t(i,{class:"app-main"},{default:o((()=>[t(c)])),_:1})])),_:1})])),_:1})])}}}),[["__scopeId","data-v-636b8ed7"]]);export{q as default};
