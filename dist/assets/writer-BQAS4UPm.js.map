{"version":3,"file":"writer-BQAS4UPm.js","sources":["../../src/api/writer.ts"],"sourcesContent":["import request from '@/utils/request'\r\nimport type { WriterForm, WriterQuery } from '@/types/writer'\r\nimport type { ApiResponse } from '@/types/response'\r\n\r\n// 获取写手列表\r\nexport function getWriters(params?: WriterQuery) {\r\n  return request({\r\n    url: '/api/writers',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\n// 获取写手详情\r\nexport function getWriter(id: number) {\r\n  return request({\r\n    url: `/api/writers/${id}`,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n// 新增写手\r\nexport function createWriter(data: WriterForm) {\r\n  return request({\r\n    url: '/api/writers',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 更新写手\r\nexport function updateWriter(id: number, data: Partial<WriterForm>) {\r\n  return request({\r\n    url: `/api/writers/${id}`,\r\n    method: 'put',\r\n    data\r\n  })\r\n}\r\n\r\n// 删除写手\r\nexport function deleteWriter(id: number) {\r\n  return request({\r\n    url: `/api/writers/${id}`,\r\n    method: 'delete'\r\n  })\r\n}\r\n\r\n// 批量删除写手\r\nexport function batchDeleteWriters(ids: number[]) {\r\n  return request({\r\n    url: '/api/writers',\r\n    method: 'delete',\r\n    data: { ids }\r\n  })\r\n}\r\n\r\n// 写手申请\r\nexport function applyWriter(data: WriterForm) {\r\n  return request({\r\n    url: '/api/writer/apply',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 生成写手申请临时令牌\r\nexport function generateApplicationToken() {\r\n  // 简单生成一个临时令牌\r\n  const token = `apply_${Date.now()}`\r\n  return Promise.resolve({ data: { token } })\r\n}\r\n\r\n// 获取写手列表（用于下拉选择）\r\nexport function getWriterList() {\r\n  return request({\r\n    url: '/api/writers/list',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n// 添加/更新写手评分\r\nexport function rateWriter(writerId: number, data: { score: number; comment: string }) {\r\n  return request({\r\n    url: `/api/writers/${writerId}/ratings`,\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 获取某日所有写手评分\r\nexport function getDailyWriterRatings(params?: { date?: string; page?: number; pageSize?: number }) {\r\n  return request({\r\n    url: '/api/writer-ratings/daily',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\n// 获取指定写手当日评分\r\nexport function getWriterTodayRating(writerId: number) {\r\n  return request({\r\n    url: `/api/writers/${writerId}/today-rating`,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n/**\r\n * 获取写手评分历史\r\n * @param writerId 写手ID\r\n * @param params 查询参数\r\n * @returns 评分历史数据\r\n */\r\nexport function getWriterRatingHistory(writerId: number | string, params?: {\r\n  page?: number;\r\n  pageSize?: number;\r\n  start_date?: string;\r\n  end_date?: string;\r\n}) {\r\n  return request({\r\n    url: `/api/writers/${writerId}/ratings`,\r\n    method: 'get',\r\n    params\r\n  })\r\n} "],"names":["getWriters","params","request","getWriter","id","createWriter","data","updateWriter","deleteWriter","batchDeleteWriters","ids","getWriterList","rateWriter","writerId","getWriterTodayRating","getWriterRatingHistory"],"mappings":"wCAKO,SAASA,EAAWC,EAAsB,CAC/C,OAAOC,EAAQ,CACb,IAAK,eACL,OAAQ,MACR,OAAAD,CAAA,CACD,CACH,CAGO,SAASE,EAAUC,EAAY,CACpC,OAAOF,EAAQ,CACb,IAAK,gBAAgBE,CAAE,GACvB,OAAQ,KAAA,CACT,CACH,CAGO,SAASC,EAAaC,EAAkB,CAC7C,OAAOJ,EAAQ,CACb,IAAK,eACL,OAAQ,OACR,KAAAI,CAAA,CACD,CACH,CAGgB,SAAAC,EAAaH,EAAYE,EAA2B,CAClE,OAAOJ,EAAQ,CACb,IAAK,gBAAgBE,CAAE,GACvB,OAAQ,MACR,KAAAE,CAAA,CACD,CACH,CAGO,SAASE,EAAaJ,EAAY,CACvC,OAAOF,EAAQ,CACb,IAAK,gBAAgBE,CAAE,GACvB,OAAQ,QAAA,CACT,CACH,CAGO,SAASK,EAAmBC,EAAe,CAChD,OAAOR,EAAQ,CACb,IAAK,eACL,OAAQ,SACR,KAAM,CAAE,IAAAQ,CAAI,CAAA,CACb,CACH,CAmBO,SAASC,GAAgB,CAC9B,OAAOT,EAAQ,CACb,IAAK,oBACL,OAAQ,KAAA,CACT,CACH,CAGgB,SAAAU,EAAWC,EAAkBP,EAA0C,CACrF,OAAOJ,EAAQ,CACb,IAAK,gBAAgBW,CAAQ,WAC7B,OAAQ,OACR,KAAAP,CAAA,CACD,CACH,CAYO,SAASQ,EAAqBD,EAAkB,CACrD,OAAOX,EAAQ,CACb,IAAK,gBAAgBW,CAAQ,gBAC7B,OAAQ,KAAA,CACT,CACH,CAQgB,SAAAE,EAAuBF,EAA2BZ,EAK/D,CACD,OAAOC,EAAQ,CACb,IAAK,gBAAgBW,CAAQ,WAC7B,OAAQ,MACR,OAAAZ,CAAA,CACD,CACH"}