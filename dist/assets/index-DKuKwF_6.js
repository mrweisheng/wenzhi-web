import{x as e,r as a,f as t,k as l,ag as i,aq as n,y as r,z as o,A as s,P as u,H as d,a5 as c,O as p,a4 as v,L as h,I as m,G as f,M as g,u as _,K as w,C as b,n as y}from"./vendor-BVd4RN3d.js";import{g as C,a as k,d as D,b as A,u as T,c as E,e as x,r as L,f as P}from"./writer-BxWoWcMI.js";import{c as B}from"./user-CLx_oSFQ.js";import{f as I}from"./format-B5gz6Uyj.js";import{g as M}from"./ip-CGW4DFCM.js";import{g as V,h as N,E as R,a as S,j as z,v as O,b as U,k as q,n as H,o as j,p as F,u as G,q as K,r as $,t as X,w as Y,x as Q,y as J,z as W,A as Z,B as ee,C as ae,D as te}from"./element-plus-CCDyQ1z5.js";import{a as le}from"./date-BKFy7LxP.js";import{_ as ie}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./index-CFSbY6bd.js";var ne,re={exports:{}};const oe=N(re.exports=function(){function e(e){this.mode=t.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var a=0,l=this.data.length;a<l;a++){var i=[],n=this.data.charCodeAt(a);n>65536?(i[0]=240|(1835008&n)>>>18,i[1]=128|(258048&n)>>>12,i[2]=128|(4032&n)>>>6,i[3]=128|63&n):n>2048?(i[0]=224|(61440&n)>>>12,i[1]=128|(4032&n)>>>6,i[2]=128|63&n):n>128?(i[0]=192|(1984&n)>>>6,i[1]=128|63&n):i[0]=n,this.parsedData.push(i)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function a(e,a){this.typeNumber=e,this.errorCorrectLevel=a,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}e.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var a=0,t=this.parsedData.length;a<t;a++)e.put(this.parsedData[a],8)}},a.prototype={addData:function(a){var t=new e(a);this.dataList.push(t),this.dataCache=null},isDark:function(e,a){if(e<0||this.moduleCount<=e||a<0||this.moduleCount<=a)throw new Error(e+","+a);return this.modules[e][a]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var l=0;l<this.moduleCount;l++){this.modules[l]=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++)this.modules[l][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=a.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,a){for(var t=-1;t<=7;t++)if(!(e+t<=-1||this.moduleCount<=e+t))for(var l=-1;l<=7;l++)a+l<=-1||this.moduleCount<=a+l||(this.modules[e+t][a+l]=0<=t&&t<=6&&(0==l||6==l)||0<=l&&l<=6&&(0==t||6==t)||2<=t&&t<=4&&2<=l&&l<=4)},getBestMaskPattern:function(){for(var e=0,a=0,t=0;t<8;t++){this.makeImpl(!0,t);var l=n.getLostPoint(this);(0==t||e>l)&&(e=l,a=t)}return a},createMovieClip:function(e,a,t){var l=e.createEmptyMovieClip(a,t),i=1;this.make();for(var n=0;n<this.modules.length;n++)for(var r=n*i,o=0;o<this.modules[n].length;o++){var s=o*i;this.modules[n][o]&&(l.beginFill(0,100),l.moveTo(s,r),l.lineTo(s+i,r),l.lineTo(s+i,r+i),l.lineTo(s,r+i),l.endFill())}return l},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var a=8;a<this.moduleCount-8;a++)null==this.modules[6][a]&&(this.modules[6][a]=a%2==0)},setupPositionAdjustPattern:function(){for(var e=n.getPatternPosition(this.typeNumber),a=0;a<e.length;a++)for(var t=0;t<e.length;t++){var l=e[a],i=e[t];if(null==this.modules[l][i])for(var r=-2;r<=2;r++)for(var o=-2;o<=2;o++)this.modules[l+r][i+o]=-2==r||2==r||-2==o||2==o||0==r&&0==o}},setupTypeNumber:function(e){for(var a=n.getBCHTypeNumber(this.typeNumber),t=0;t<18;t++){var l=!e&&1==(a>>t&1);this.modules[Math.floor(t/3)][t%3+this.moduleCount-8-3]=l}for(t=0;t<18;t++)l=!e&&1==(a>>t&1),this.modules[t%3+this.moduleCount-8-3][Math.floor(t/3)]=l},setupTypeInfo:function(e,a){for(var t=this.errorCorrectLevel<<3|a,l=n.getBCHTypeInfo(t),i=0;i<15;i++){var r=!e&&1==(l>>i&1);i<6?this.modules[i][8]=r:i<8?this.modules[i+1][8]=r:this.modules[this.moduleCount-15+i][8]=r}for(i=0;i<15;i++)r=!e&&1==(l>>i&1),i<8?this.modules[8][this.moduleCount-i-1]=r:i<9?this.modules[8][15-i-1+1]=r:this.modules[8][15-i-1]=r;this.modules[this.moduleCount-8][8]=!e},mapData:function(e,a){for(var t=-1,l=this.moduleCount-1,i=7,r=0,o=this.moduleCount-1;o>0;o-=2)for(6==o&&o--;;){for(var s=0;s<2;s++)if(null==this.modules[l][o-s]){var u=!1;r<e.length&&(u=1==(e[r]>>>i&1)),n.getMask(a,l,o-s)&&(u=!u),this.modules[l][o-s]=u,-1==--i&&(r++,i=7)}if((l+=t)<0||this.moduleCount<=l){l-=t,t=-t;break}}}},a.PAD0=236,a.PAD1=17,a.createData=function(e,t,l){for(var i=u.getRSBlocks(e,t),r=new d,o=0;o<l.length;o++){var s=l[o];r.put(s.mode,4),r.put(s.getLength(),n.getLengthInBits(s.mode,e)),s.write(r)}var c=0;for(o=0;o<i.length;o++)c+=i[o].dataCount;if(r.getLengthInBits()>8*c)throw new Error("code length overflow. ("+r.getLengthInBits()+">"+8*c+")");for(r.getLengthInBits()+4<=8*c&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(!1);for(;!(r.getLengthInBits()>=8*c||(r.put(a.PAD0,8),r.getLengthInBits()>=8*c));)r.put(a.PAD1,8);return a.createBytes(r,i)},a.createBytes=function(e,a){for(var t=0,l=0,i=0,r=new Array(a.length),o=new Array(a.length),u=0;u<a.length;u++){var d=a[u].dataCount,c=a[u].totalCount-d;l=Math.max(l,d),i=Math.max(i,c),r[u]=new Array(d);for(var p=0;p<r[u].length;p++)r[u][p]=255&e.buffer[p+t];t+=d;var v=n.getErrorCorrectPolynomial(c),h=new s(r[u],v.getLength()-1).mod(v);for(o[u]=new Array(v.getLength()-1),p=0;p<o[u].length;p++){var m=p+h.getLength()-o[u].length;o[u][p]=m>=0?h.get(m):0}}var f=0;for(p=0;p<a.length;p++)f+=a[p].totalCount;var g=new Array(f),_=0;for(p=0;p<l;p++)for(u=0;u<a.length;u++)p<r[u].length&&(g[_++]=r[u][p]);for(p=0;p<i;p++)for(u=0;u<a.length;u++)p<o[u].length&&(g[_++]=o[u][p]);return g};for(var t={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},l={L:1,M:0,Q:3,H:2},i={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},n={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var a=e<<10;n.getBCHDigit(a)-n.getBCHDigit(n.G15)>=0;)a^=n.G15<<n.getBCHDigit(a)-n.getBCHDigit(n.G15);return(e<<10|a)^n.G15_MASK},getBCHTypeNumber:function(e){for(var a=e<<12;n.getBCHDigit(a)-n.getBCHDigit(n.G18)>=0;)a^=n.G18<<n.getBCHDigit(a)-n.getBCHDigit(n.G18);return e<<12|a},getBCHDigit:function(e){for(var a=0;0!=e;)a++,e>>>=1;return a},getPatternPosition:function(e){return n.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,a,t){switch(e){case i.PATTERN000:return(a+t)%2==0;case i.PATTERN001:return a%2==0;case i.PATTERN010:return t%3==0;case i.PATTERN011:return(a+t)%3==0;case i.PATTERN100:return(Math.floor(a/2)+Math.floor(t/3))%2==0;case i.PATTERN101:return a*t%2+a*t%3==0;case i.PATTERN110:return(a*t%2+a*t%3)%2==0;case i.PATTERN111:return(a*t%3+(a+t)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var a=new s([1],0),t=0;t<e;t++)a=a.multiply(new s([1,r.gexp(t)],0));return a},getLengthInBits:function(e,a){if(1<=a&&a<10)switch(e){case t.MODE_NUMBER:return 10;case t.MODE_ALPHA_NUM:return 9;case t.MODE_8BIT_BYTE:case t.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(a<27)switch(e){case t.MODE_NUMBER:return 12;case t.MODE_ALPHA_NUM:return 11;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(a<41))throw new Error("type:"+a);switch(e){case t.MODE_NUMBER:return 14;case t.MODE_ALPHA_NUM:return 13;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var a=e.getModuleCount(),t=0,l=0;l<a;l++)for(var i=0;i<a;i++){for(var n=0,r=e.isDark(l,i),o=-1;o<=1;o++)if(!(l+o<0||a<=l+o))for(var s=-1;s<=1;s++)i+s<0||a<=i+s||0==o&&0==s||r==e.isDark(l+o,i+s)&&n++;n>5&&(t+=3+n-5)}for(l=0;l<a-1;l++)for(i=0;i<a-1;i++){var u=0;e.isDark(l,i)&&u++,e.isDark(l+1,i)&&u++,e.isDark(l,i+1)&&u++,e.isDark(l+1,i+1)&&u++,0!=u&&4!=u||(t+=3)}for(l=0;l<a;l++)for(i=0;i<a-6;i++)e.isDark(l,i)&&!e.isDark(l,i+1)&&e.isDark(l,i+2)&&e.isDark(l,i+3)&&e.isDark(l,i+4)&&!e.isDark(l,i+5)&&e.isDark(l,i+6)&&(t+=40);for(i=0;i<a;i++)for(l=0;l<a-6;l++)e.isDark(l,i)&&!e.isDark(l+1,i)&&e.isDark(l+2,i)&&e.isDark(l+3,i)&&e.isDark(l+4,i)&&!e.isDark(l+5,i)&&e.isDark(l+6,i)&&(t+=40);var d=0;for(i=0;i<a;i++)for(l=0;l<a;l++)e.isDark(l,i)&&d++;return t+=Math.abs(100*d/a/a-50)/5*10}},r={glog:function(e){if(e<1)throw new Error("glog("+e+")");return r.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return r.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},o=0;o<8;o++)r.EXP_TABLE[o]=1<<o;for(o=8;o<256;o++)r.EXP_TABLE[o]=r.EXP_TABLE[o-4]^r.EXP_TABLE[o-5]^r.EXP_TABLE[o-6]^r.EXP_TABLE[o-8];for(o=0;o<255;o++)r.LOG_TABLE[r.EXP_TABLE[o]]=o;function s(e,a){if(null==e.length)throw new Error(e.length+"/"+a);for(var t=0;t<e.length&&0==e[t];)t++;this.num=new Array(e.length-t+a);for(var l=0;l<e.length-t;l++)this.num[l]=e[l+t]}function u(e,a){this.totalCount=e,this.dataCount=a}function d(){this.buffer=[],this.length=0}s.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var a=new Array(this.getLength()+e.getLength()-1),t=0;t<this.getLength();t++)for(var l=0;l<e.getLength();l++)a[t+l]^=r.gexp(r.glog(this.get(t))+r.glog(e.get(l)));return new s(a,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var a=r.glog(this.get(0))-r.glog(e.get(0)),t=new Array(this.getLength()),l=0;l<this.getLength();l++)t[l]=this.get(l);for(l=0;l<e.getLength();l++)t[l]^=r.gexp(r.glog(e.get(l))+a);return new s(t,0).mod(e)}},u.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],u.getRSBlocks=function(e,a){var t=u.getRsBlockTable(e,a);if(null==t)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+a);for(var l=t.length/3,i=[],n=0;n<l;n++)for(var r=t[3*n+0],o=t[3*n+1],s=t[3*n+2],d=0;d<r;d++)i.push(new u(o,s));return i},u.getRsBlockTable=function(e,a){switch(a){case l.L:return u.RS_BLOCK_TABLE[4*(e-1)+0];case l.M:return u.RS_BLOCK_TABLE[4*(e-1)+1];case l.Q:return u.RS_BLOCK_TABLE[4*(e-1)+2];case l.H:return u.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},d.prototype={get:function(e){var a=Math.floor(e/8);return 1==(this.buffer[a]>>>7-e%8&1)},put:function(e,a){for(var t=0;t<a;t++)this.putBit(1==(e>>>a-t-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var a=Math.floor(this.length/8);this.buffer.length<=a&&this.buffer.push(0),e&&(this.buffer[a]|=128>>>this.length%8),this.length++}};var c=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function p(){return"undefined"!=typeof CanvasRenderingContext2D}function v(){var e=!1,a=navigator.userAgent;if(/android/i.test(a)){e=!0;var t=a.toString().match(/android ([0-9]\.[0-9])/i);t&&t[1]&&(e=parseFloat(t[1]))}return e}var h,m=((h=function(e,a){this._el=e,this._htOption=a}).prototype.draw=function(e){var a=this._htOption,t=this._el,l=e.getModuleCount();function i(e,a){var t=document.createElementNS("http://www.w3.org/2000/svg",e);for(var l in a)a.hasOwnProperty(l)&&t.setAttribute(l,a[l]);return t}Math.floor(a.width/l),Math.floor(a.height/l),this.clear();var n=i("svg",{viewBox:"0 0 "+String(l)+" "+String(l),width:"100%",height:"100%",fill:a.colorLight});n.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),t.appendChild(n),n.appendChild(i("rect",{fill:a.colorLight,width:"100%",height:"100%"})),n.appendChild(i("rect",{fill:a.colorDark,width:"1",height:"1",id:"template"}));for(var r=0;r<l;r++)for(var o=0;o<l;o++)if(e.isDark(r,o)){var s=i("use",{x:String(o),y:String(r)});s.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),n.appendChild(s)}},h.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},h),f="svg"===document.documentElement.tagName.toLowerCase()?m:p()?function(){function e(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}if(this&&this._android&&this._android<=2.1){var a=1/window.devicePixelRatio,t=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(e,l,i,n,r,o,s,u,d){if("nodeName"in e&&/img/i.test(e.nodeName))for(var c=arguments.length-1;c>=1;c--)arguments[c]=arguments[c]*a;else void 0===u&&(arguments[1]*=a,arguments[2]*=a,arguments[3]*=a,arguments[4]*=a);t.apply(this,arguments)}}function l(e,a){var t=this;if(t._fFail=a,t._fSuccess=e,null===t._bSupportDataURI){var l=document.createElement("img"),i=function(){t._bSupportDataURI=!1,t._fFail&&t._fFail.call(t)},n=function(){t._bSupportDataURI=!0,t._fSuccess&&t._fSuccess.call(t)};return l.onabort=i,l.onerror=i,l.onload=n,void(l.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}!0===t._bSupportDataURI&&t._fSuccess?t._fSuccess.call(t):!1===t._bSupportDataURI&&t._fFail&&t._fFail.call(t)}var i=function(e,a){this._bIsPainted=!1,this._android=v(),this._htOption=a,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=a.width,this._elCanvas.height=a.height,e.appendChild(this._elCanvas),this._el=e,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return i.prototype.draw=function(e){var a=this._elImage,t=this._oContext,l=this._htOption,i=e.getModuleCount(),n=l.width/i,r=l.height/i,o=Math.round(n),s=Math.round(r);a.style.display="none",this.clear();for(var u=0;u<i;u++)for(var d=0;d<i;d++){var c=e.isDark(u,d),p=d*n,v=u*r;t.strokeStyle=c?l.colorDark:l.colorLight,t.lineWidth=1,t.fillStyle=c?l.colorDark:l.colorLight,t.fillRect(p,v,n,r),t.strokeRect(Math.floor(p)+.5,Math.floor(v)+.5,o,s),t.strokeRect(Math.ceil(p)-.5,Math.ceil(v)-.5,o,s)}this._bIsPainted=!0},i.prototype.makeImage=function(){this._bIsPainted&&l.call(this,e)},i.prototype.isPainted=function(){return this._bIsPainted},i.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},i.prototype.round=function(e){return e?Math.floor(1e3*e)/1e3:e},i}():function(){var e=function(e,a){this._el=e,this._htOption=a};return e.prototype.draw=function(e){for(var a=this._htOption,t=this._el,l=e.getModuleCount(),i=Math.floor(a.width/l),n=Math.floor(a.height/l),r=['<table style="border:0;border-collapse:collapse;">'],o=0;o<l;o++){r.push("<tr>");for(var s=0;s<l;s++)r.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+i+"px;height:"+n+"px;background-color:"+(e.isDark(o,s)?a.colorDark:a.colorLight)+';"></td>');r.push("</tr>")}r.push("</table>"),t.innerHTML=r.join("");var u=t.childNodes[0],d=(a.width-u.offsetWidth)/2,c=(a.height-u.offsetHeight)/2;d>0&&c>0&&(u.style.margin=c+"px "+d+"px")},e.prototype.clear=function(){this._el.innerHTML=""},e}();function g(e,a){for(var t=1,i=_(e),n=0,r=c.length;n<=r;n++){var o=0;switch(a){case l.L:o=c[n][0];break;case l.M:o=c[n][1];break;case l.Q:o=c[n][2];break;case l.H:o=c[n][3]}if(i<=o)break;t++}if(t>c.length)throw new Error("Too long data");return t}function _(e){var a=encodeURI(e).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return a.length+(a.length!=e?3:0)}return(ne=function(e,a){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:l.H},"string"==typeof a&&(a={text:a}),a)for(var t in a)this._htOption[t]=a[t];"string"==typeof e&&(e=document.getElementById(e)),this._htOption.useSVG&&(f=m),this._android=v(),this._el=e,this._oQRCode=null,this._oDrawing=new f(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)}).prototype.makeCode=function(e){this._oQRCode=new a(g(e,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(e),this._oQRCode.make(),this._el.title=e,this._oDrawing.draw(this._oQRCode),this.makeImage()},ne.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},ne.prototype.clear=function(){this._oDrawing.clear()},ne.CorrectLevel=l,ne}()),se={class:"app-container"},ue={class:"toolbar"},de={class:"action-buttons"},ce={class:"content-cell"},pe={class:"operation-btns"},ve={class:"btn-group"},he={class:"btn-group"},me={class:"btn-group"},fe={class:"pagination-container"},ge={class:"form-section"},_e={class:"form-section"},we={class:"form-section"},be={class:"form-section"},ye={class:"tag-container"},Ce={key:0,class:"writer-detail-container"},ke={class:"detail-header-card"},De={class:"writer-base-info"},Ae={class:"writer-avatar"},Te={class:"writer-title-info"},Ee={class:"writer-name-row"},xe={class:"writer-name"},Le={class:"writer-id"},Pe={class:"writer-tags"},Be={key:0,class:"latest-rating-section"},Ie={class:"rating-header"},Me={class:"rating-title"},Ve={class:"rating-date"},Ne={class:"rating-content"},Re={class:"rating-score-section"},Se={class:"score-display"},ze={class:"score-value"},Oe={class:"score-stars"},Ue={class:"rating-comment-section"},qe={class:"comment-header"},He={key:0,class:"inspector-info"},je={class:"comment-content"},Fe={class:"rating-time"},Ge={key:0},Ke={class:"detail-info-container"},$e={class:"label-with-icon"},Xe={class:"label-with-icon"},Ye={class:"label-with-icon"},Qe={class:"label-with-icon"},Je={class:"label-with-icon"},We={class:"label-with-icon"},Ze={class:"label-with-icon"},ea={class:"label-with-icon"},aa={class:"label-with-icon"},ta={class:"label-with-icon"},la={class:"label-with-icon"},ia={class:"label-with-icon"},na={class:"label-with-icon"},ra={class:"label-with-icon"},oa={class:"label-with-icon"},sa={class:"specialized-content-section"},ua={class:"label-with-icon"},da={class:"specialized-tags-container"},ca={class:"qr-container"},pa={class:"rating-header"},va={class:"writer-avatar"},ha={class:"writer-info"},ma={class:"writer-name-row"},fa={class:"writer-name"},ga={class:"writer-id"},_a={class:"writer-tags"},wa={class:"rating-body"},ba={class:"score-content"},ya={class:"score-input-row"},Ca={class:"score-value"},ka={key:0},Da={key:1},Aa={key:0,class:"rating-inspector-info"},Ta={class:"inspector-content"},Ea={class:"inspector-name"},xa={class:"dialog-footer"},La={key:0,class:"empty-history"},Pa={key:1,class:"loading-history"},Ba={key:2,class:"rating-history-container"},Ia={class:"history-header"},Ma={class:"writer-info"},Va={class:"writer-detail"},Na={class:"writer-name"},Ra={class:"writer-id"},Sa={class:"date-filter"},za={class:"comment-cell"},Oa={key:0,class:"inspector-cell"},Ua={key:1},qa={class:"history-pagination"},Ha=ie(e({__name:"index",setup(e){const V=a(!1),N=a(!1),ie=a([]),ne=a(0),re=a([]),Ha=a({page:1,pageSize:10,writer_id:"",name:"",education:"",writing_experience:"",startTime:"",endTime:""}),ja=a(!1),Fa=a(""),Ga=a(!1),Ka=a(),$a=a({name:"",education:"",major:"",writing_experience:"",specialized_content:"",phone_1:"",phone_2:"",alipay_name:"",alipay_account:"",id_number:"",ip_address:""}),Xa=a(null),Ya={name:[{required:!0,message:"请输入姓名",trigger:"blur"}],education:[{required:!0,message:"请选择学历",trigger:"change"}],major:[{required:!0,message:"请输入专业",trigger:"blur"}],writing_experience:[{required:!0,message:"请选择写作水平",trigger:"change"}],id_number:[{required:!0,message:"请输入身份证号",trigger:"blur"},{pattern:/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,message:"请输入正确的身份证号",trigger:"blur"}],phone_1:[{required:!0,message:"请输入手机号码",trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号码",trigger:"blur"}],specialized_content:[{required:!0,message:"请选择擅长内容",trigger:"change"}],alipay_name:[{required:!0,message:"请输入支付宝姓名",trigger:"blur"}],alipay_account:[{required:!0,message:"请输入支付宝账号",trigger:"blur"}]},Qa=[{value:"专科",label:"专科"},{value:"本科",label:"本科"},{value:"硕士",label:"硕士"},{value:"博士",label:"博士"}],Ja=[{value:"大学水平",label:"大学水平"},{value:"在职水平",label:"在职水平"},{value:"事业单位水平",label:"事业单位水平"},{value:"淘宝老手",label:"淘宝老手"},{value:"在职老师",label:"在职老师"},{value:"期刊报告科研",label:"期刊报告科研"}],Wa=[{value:"ppt制作",label:"PPT制作"},{value:"演讲稿、征文、读后感",label:"演讲稿/征文/读后感"},{value:"公文类、对照材料、生活会、讲话稿，公文材料、研讨材料、领导讲话",label:"公文材料/讲话稿"},{value:"调查报告、学术报告、期刊、研究性文章",label:"报告/期刊/论文"},{value:"广告词、广告语、推文、商业文案",label:"广告/文案"},{value:"商业计划书、策划方案、项目可行性研究报告",label:"计划书/方案"},{value:"保洁、物业、工程、绿化、采购标书",label:"标书类"},{value:"抄写",label:"抄写"}],Za=a([]),et=a(),at=a(!1);let tt=null;const lt=a();t(lt,(e=>{const{startTime:a,endTime:t}=le(e);Ha.value.startTime=a,Ha.value.endTime=t}));const it=a(!1),nt=a(),rt=a(null),ot=a({score:0,comment:""}),st=a(0),ut=a(!1),dt=a(null),ct={score:[{required:!0,message:"请输入评分",trigger:"blur"},{type:"number",min:1,max:10,message:"评分必须在1到10之间",trigger:"blur"}],comment:[{required:!0,message:"请输入评价内容",trigger:"blur"}]},pt=["#c6d1de","#e6a23c","#67c23a"],vt=["较差","一般","优秀"],ht=a(!1),mt=a(!1),ft=a([]),gt=a(0),_t=a(1),wt=a(10),bt=a(null),yt=async()=>{try{V.value=!0;const e=await C(Ha.value);e.data&&e.data.data&&(ie.value=e.data.data.list||[],ne.value=e.data.data.total||0)}catch(e){R.error("获取写手列表失败"),ie.value=[],ne.value=0}finally{V.value=!1}},Ct=()=>{Ha.value.page=1,yt()},kt=()=>{Ha.value={page:1,pageSize:10,writer_id:"",name:"",education:"",writing_experience:"",startTime:"",endTime:""},lt.value=void 0,yt()},Dt=e=>{re.value=e.map((e=>e.id))},At=()=>{Fa.value="新增写手",Pt(),ja.value=!0},Tt=async()=>{if(0!==re.value.length)try{await S.confirm("确认删除选中的写手吗？","提示",{type:"warning"}),await A(re.value),R.success("删除成功"),yt()}catch(e){}},Et=async()=>{if(Ka.value){await Ka.value.validate();try{N.value=!0;const e=await M(),a={...$a.value,specialized_content:Za.value.join(";"),ip_address:e};if("编辑写手"===Fa.value){if(!a.writer_id)return void R.error("写手ID不能为空");await T(a.id,a),R.success("更新成功")}else await E(a),R.success("创建成功");ja.value=!1,yt()}catch(e){}finally{N.value=!1}}},xt=e=>{Ha.value.pageSize=e,yt()},Lt=e=>{Ha.value.page=e,yt()},Pt=()=>{Ka.value&&Ka.value.resetFields(),$a.value={name:"",education:"",major:"",writing_experience:"",specialized_content:"",phone_1:"",phone_2:"",alipay_name:"",alipay_account:"",id_number:"",ip_address:""},Za.value=[]},Bt=async()=>{if(at.value=!0,await y(),tt)return;tt=new oe(et.value,{text:"http://192.168.31.207:5173/writer-application",width:256,height:256,colorDark:"#000000",colorLight:"#ffffff",correctLevel:oe.CorrectLevel.H})},It=()=>{const e=et.value.querySelector("canvas");if(e){const a=e.toDataURL("image/png"),t=document.createElement("a");t.download="写手申请二维码.png",t.href=a,document.body.appendChild(t),t.click(),document.body.removeChild(t)}};t(at,(e=>{}));const Mt=async()=>{var e,a,t,l;if(nt.value)try{if(await nt.value.validate(),!(null==(e=rt.value)?void 0:e.id))return void R.error("写手ID不存在");ut.value=!0;const t=await L(rt.value.id,{score:ot.value.score,comment:ot.value.comment}),l={id:(null==(a=t.data.data)?void 0:a.id)||Date.now(),writer:{id:rt.value.id,writer_id:rt.value.writer_id,name:rt.value.name},score:ot.value.score,comment:ot.value.comment,date:(new Date).toISOString().split("T")[0],created_at:(new Date).toISOString().replace("T"," ").substring(0,19),updated_at:(new Date).toISOString().replace("T"," ").substring(0,19)};dt.value=l,R.success(t.data.message||"评分提交成功"),it.value=!1}catch(i){(null==(l=null==(t=i.response)?void 0:t.data)?void 0:l.message)?R.error(i.response.data.message):R.error("提交评分失败")}finally{ut.value=!1}},Vt=e=>{if(!e)return"无";return new Date(e).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})},Nt=async()=>{var e,a;if(null==(e=rt.value)?void 0:e.id){mt.value=!0;try{const e={page:_t.value,pageSize:wt.value};if(bt.value&&2===bt.value.length){e.start_date=bt.value[0]+"-01";const a=new Date(parseInt(bt.value[1].split("-")[0]),parseInt(bt.value[1].split("-")[1]),0).getDate();e.end_date=bt.value[1]+"-"+a}const t=await P(rt.value.id,e);t.data&&0===t.data.code?(ft.value=t.data.data.list||[],gt.value=t.data.data.total||0):(R.warning((null==(a=t.data)?void 0:a.message)||"获取评分历史数据失败"),ft.value=[],gt.value=0)}catch(t){R.error("获取评分历史失败"),ft.value=[],gt.value=0}finally{mt.value=!1}}},Rt=()=>{_t.value=1,Nt()},St=e=>{wt.value=e,Nt()},zt=e=>{_t.value=e,Nt()},Ot=e=>{ot.value.score=Number(e.toFixed(1))};l((()=>{yt()}));const Ut=()=>{ft.value=[],gt.value=0},qt=()=>{Xa.value=null},Ht=()=>{ot.value={score:0,comment:""},st.value=0,dt.value=null},jt=()=>{tt&&(tt=null)};return(e,a)=>{var t,l;const y=i("el-input"),C=i("el-form-item"),A=i("el-option"),T=i("el-select"),E=i("el-button"),L=i("el-form"),P=i("el-table-column"),M=i("el-tooltip"),le=i("el-icon"),oe=i("el-tag"),tt=i("el-table"),lt=i("el-pagination"),Pt=i("el-col"),Ft=i("el-row"),Gt=i("el-dialog"),Kt=i("el-avatar"),$t=i("el-rate"),Xt=i("el-descriptions-item"),Yt=i("el-descriptions"),Qt=i("el-input-number"),Jt=i("el-empty"),Wt=i("el-skeleton"),Zt=i("el-date-picker"),el=n("loading");return r(),o("div",se,[s("div",ue,[u(L,{inline:!0,model:Ha.value,class:"search-form"},{default:d((()=>[u(C,null,{default:d((()=>[u(y,{modelValue:Ha.value.name,"onUpdate:modelValue":a[0]||(a[0]=e=>Ha.value.name=e),placeholder:"姓名",clearable:"",onKeyup:c(Ct,["enter"])},null,8,["modelValue"])])),_:1}),u(C,null,{default:d((()=>[u(T,{modelValue:Ha.value.education,"onUpdate:modelValue":a[1]||(a[1]=e=>Ha.value.education=e),placeholder:"学历",clearable:"",filterable:""},{default:d((()=>[(r(),o(p,null,v(Qa,(e=>u(A,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])),_:1}),u(C,null,{default:d((()=>[u(T,{modelValue:Ha.value.writing_experience,"onUpdate:modelValue":a[2]||(a[2]=e=>Ha.value.writing_experience=e),placeholder:"写作水平",clearable:"",filterable:""},{default:d((()=>[(r(),o(p,null,v(Ja,(e=>u(A,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])),_:1}),u(C,null,{default:d((()=>[u(E,{type:"primary",onClick:Ct},{default:d((()=>a[27]||(a[27]=[h("搜索")]))),_:1}),u(E,{onClick:kt},{default:d((()=>a[28]||(a[28]=[h("重置")]))),_:1})])),_:1})])),_:1},8,["model"]),s("div",de,[u(E,{type:"primary",onClick:At},{default:d((()=>a[29]||(a[29]=[h("新增写手")]))),_:1}),u(E,{type:"success",onClick:Bt},{default:d((()=>a[30]||(a[30]=[h("写手申请")]))),_:1}),u(E,{type:"danger",disabled:0===re.value.length,onClick:Tt},{default:d((()=>a[31]||(a[31]=[h(" 批量删除 ")]))),_:1},8,["disabled"])])]),m((r(),f(tt,{data:ie.value,onSelectionChange:Dt,style:{width:"100%","margin-top":"20px"},border:"",stripe:"","header-cell-style":{background:"#f5f7fa",color:"#606266",fontWeight:"600"}},{default:d((()=>[u(P,{type:"selection",width:"55",align:"center"}),u(P,{prop:"writer_id",label:"写手ID",width:"110","show-overflow-tooltip":"",align:"center"}),u(P,{prop:"name",label:"姓名",width:"100","show-overflow-tooltip":"",align:"center"}),u(P,{prop:"education",label:"学历",width:"90","show-overflow-tooltip":"",align:"center"}),u(P,{prop:"major",label:"专业",width:"120","show-overflow-tooltip":""}),u(P,{prop:"writing_experience",label:"写作水平",width:"110","show-overflow-tooltip":""}),u(P,{prop:"specialized_content",label:"擅长内容","min-width":"180","show-overflow-tooltip":""},{default:d((({row:e})=>[u(M,{class:"box-item",effect:"dark",content:e.specialized_content,placement:"top-start","show-after":100},{default:d((()=>[s("div",ce,g(e.specialized_content),1)])),_:2},1032,["content"])])),_:1}),u(P,{prop:"phone_1",label:"联系电话",width:"120","show-overflow-tooltip":"",align:"center"}),u(P,{prop:"created_time",label:"创建时间",width:"160",align:"center"},{default:d((({row:e})=>[h(g(_(I)(e.created_time)),1)])),_:1}),u(P,{label:"操作",width:"280",fixed:"right",align:"center"},{default:d((({row:e})=>[s("div",pe,[s("div",ve,[u(E,{type:"primary",link:"",onClick:a=>(e=>{var a;Fa.value="编辑写手",$a.value={id:e.id,writer_id:e.writer_id,name:e.name,education:e.education,major:e.major,writing_experience:e.writing_experience,specialized_content:e.specialized_content,phone_1:e.phone_1,phone_2:e.phone_2,alipay_name:e.alipay_name,alipay_account:e.alipay_account,id_number:e.id_number||"",ip_address:e.ip_address},Za.value=(null==(a=e.specialized_content)?void 0:a.split(";"))||[],ja.value=!0})(e)},{default:d((()=>[u(le,null,{default:d((()=>[u(_(z))])),_:1}),a[32]||(a[32]=h("编辑 "))])),_:2},1032,["onClick"]),u(E,{type:"info",link:"",onClick:a=>(async e=>{var a;try{const t=await k(e.id);t.data&&0===t.data.code?Xa.value=t.data.data:(Xa.value=null,R.error((null==(a=t.data)?void 0:a.message)||"获取写手详情失败")),Ga.value=!0}catch(t){R.error("获取写手详情失败")}})(e)},{default:d((()=>[u(le,null,{default:d((()=>[u(_(O))])),_:1}),a[33]||(a[33]=h("查看 "))])),_:2},1032,["onClick"])]),s("div",he,[1===e.is_activated?(r(),f(oe,{key:0,size:"small",type:"success",effect:"plain"},{default:d((()=>a[34]||(a[34]=[h("已开通")]))),_:1})):(r(),f(E,{key:1,type:"success",link:"",onClick:a=>(async e=>{var a;try{await S.confirm(`确认为 ${e.name} 开通登录权限吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});const t={username:e.writer_id,password:"123456",real_name:e.name,role_id:6,email:"",status:1},l=await B(t);l.data&&0===l.data.code?R.success(`已成功为 ${e.name} 开通登录权限，账号: ${e.writer_id}，密码: 123456`):R.error((null==(a=l.data)?void 0:a.message)||"开通登录权限失败")}catch(t){if(t.toString().includes("cancel"))return;if(t.response&&t.response.data){const e=t.response.data.message;e&&e.includes("username")?R.error("该写手ID已经开通过登录权限"):R.error("开通登录权限失败: "+e)}else R.error("开通登录权限失败")}})(e)},{default:d((()=>[u(le,null,{default:d((()=>[u(_(U))])),_:1}),a[35]||(a[35]=h("开通 "))])),_:2},1032,["onClick"])),u(E,{type:"warning",link:"",onClick:a=>(async e=>{rt.value=e,ot.value={score:0,comment:""},st.value=0;try{ut.value=!0;const a=await x(e.id);a.data&&0===a.data.code&&(a.data.data?(dt.value=a.data.data,ot.value={score:"string"==typeof a.data.data.score?parseFloat(a.data.data.score):a.data.data.score,comment:dt.value.comment},st.value="number"==typeof ot.value.score?ot.value.score:parseFloat(String(ot.value.score)),R({type:"info",message:"该写手今日已有评分，您可以查看或更新评分"})):dt.value=null)}catch(a){dt.value=null}finally{ut.value=!1,it.value=!0}})(e)},{default:d((()=>[u(le,null,{default:d((()=>[u(_(q))])),_:1}),a[36]||(a[36]=h("评分 "))])),_:2},1032,["onClick"]),u(E,{type:"info",link:"",onClick:a=>(e=>{rt.value=e,ht.value=!0,_t.value=1,Nt()})(e)},{default:d((()=>[u(le,null,{default:d((()=>[u(_(H))])),_:1}),a[37]||(a[37]=h("历史 "))])),_:2},1032,["onClick"])]),s("div",me,[u(E,{type:"danger",link:"",onClick:a=>(async e=>{try{await S.confirm("确认删除该写手吗？","提示",{type:"warning"}),await D(e.id),R.success("删除成功"),yt()}catch(a){}})(e)},{default:d((()=>[u(le,null,{default:d((()=>[u(_(j))])),_:1}),a[38]||(a[38]=h("删除 "))])),_:2},1032,["onClick"])])])])),_:1})])),_:1},8,["data"])),[[el,V.value]]),s("div",fe,[u(lt,{"current-page":Ha.value.page,"onUpdate:currentPage":a[3]||(a[3]=e=>Ha.value.page=e),"page-size":Ha.value.pageSize,"onUpdate:pageSize":a[4]||(a[4]=e=>Ha.value.pageSize=e),"page-sizes":[10,20,50,100],total:ne.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:xt,onCurrentChange:Lt},null,8,["current-page","page-size","total"])]),u(Gt,{title:Fa.value,modelValue:ja.value,"onUpdate:modelValue":a[15]||(a[15]=e=>ja.value=e),width:"800px","close-on-click-modal":!1},{footer:d((()=>[u(E,{onClick:a[14]||(a[14]=e=>ja.value=!1)},{default:d((()=>a[43]||(a[43]=[h("取消")]))),_:1}),u(E,{type:"primary",onClick:Et,loading:N.value},{default:d((()=>a[44]||(a[44]=[h(" 确定 ")]))),_:1},8,["loading"])])),default:d((()=>[u(L,{ref_key:"formRef",ref:Ka,model:$a.value,rules:Ya,"label-width":"100px",class:"writer-form"},{default:d((()=>[s("div",ge,[a[39]||(a[39]=s("div",{class:"section-title"},"基本信息",-1)),u(Ft,{gutter:20},{default:d((()=>[u(Pt,{span:8},{default:d((()=>[u(C,{label:"姓名",prop:"name"},{default:d((()=>[u(y,{modelValue:$a.value.name,"onUpdate:modelValue":a[5]||(a[5]=e=>$a.value.name=e),placeholder:"请输入姓名"},null,8,["modelValue"])])),_:1})])),_:1}),u(Pt,{span:8},{default:d((()=>[u(C,{label:"专业",prop:"major"},{default:d((()=>[u(y,{modelValue:$a.value.major,"onUpdate:modelValue":a[6]||(a[6]=e=>$a.value.major=e),placeholder:"请输入专业"},null,8,["modelValue"])])),_:1})])),_:1}),u(Pt,{span:8},{default:d((()=>[u(C,{label:"学历",prop:"education"},{default:d((()=>[u(T,{modelValue:$a.value.education,"onUpdate:modelValue":a[7]||(a[7]=e=>$a.value.education=e),placeholder:"请选择学历",style:{width:"100%"}},{default:d((()=>[(r(),o(p,null,v(Qa,(e=>u(A,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),u(Ft,{gutter:20},{default:d((()=>[u(Pt,{span:8},{default:d((()=>[u(C,{label:"写作水平",prop:"writing_experience"},{default:d((()=>[u(T,{modelValue:$a.value.writing_experience,"onUpdate:modelValue":a[8]||(a[8]=e=>$a.value.writing_experience=e),placeholder:"请选择写作水平",style:{width:"100%"}},{default:d((()=>[(r(),o(p,null,v(Ja,(e=>u(A,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),u(Ft,null,{default:d((()=>[u(Pt,{span:24},{default:d((()=>[u(C,{label:"身份证号",prop:"id_number"},{default:d((()=>[u(y,{modelValue:$a.value.id_number,"onUpdate:modelValue":a[9]||(a[9]=e=>$a.value.id_number=e),placeholder:"请输入身份证号",maxlength:"18","show-word-limit":""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})]),s("div",_e,[a[40]||(a[40]=s("div",{class:"section-title"},"联系方式",-1)),u(Ft,{gutter:20},{default:d((()=>[u(Pt,{span:12},{default:d((()=>[u(C,{label:"手机号1",prop:"phone_1"},{default:d((()=>[u(y,{modelValue:$a.value.phone_1,"onUpdate:modelValue":a[10]||(a[10]=e=>$a.value.phone_1=e),placeholder:"请输入手机号1"},null,8,["modelValue"])])),_:1})])),_:1}),u(Pt,{span:12},{default:d((()=>[u(C,{label:"手机号2",prop:"phone_2"},{default:d((()=>[u(y,{modelValue:$a.value.phone_2,"onUpdate:modelValue":a[11]||(a[11]=e=>$a.value.phone_2=e),placeholder:"请输入手机号2"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})]),s("div",we,[a[41]||(a[41]=s("div",{class:"section-title"},"支付信息",-1)),u(Ft,{gutter:20},{default:d((()=>[u(Pt,{span:12},{default:d((()=>[u(C,{label:"支付宝姓名",prop:"alipay_name",required:""},{default:d((()=>[u(y,{modelValue:$a.value.alipay_name,"onUpdate:modelValue":a[12]||(a[12]=e=>$a.value.alipay_name=e),placeholder:"请输入支付宝姓名"},null,8,["modelValue"])])),_:1})])),_:1}),u(Pt,{span:12},{default:d((()=>[u(C,{label:"支付宝账号",prop:"alipay_account",required:""},{default:d((()=>[u(y,{modelValue:$a.value.alipay_account,"onUpdate:modelValue":a[13]||(a[13]=e=>$a.value.alipay_account=e),placeholder:"请输入支付宝账号"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})]),s("div",be,[a[42]||(a[42]=s("div",{class:"section-title"},"擅长内容",-1)),u(C,{prop:"specialized_content",class:"specialized-content"},{default:d((()=>[s("div",ye,[(r(),o(p,null,v(Wa,(e=>u(oe,{key:e.value,type:Za.value.includes(e.value)?"primary":"info",class:"specialized-tag",onClick:a=>(e=>{const a=Za.value.indexOf(e);-1===a?Za.value.push(e):Za.value.splice(a,1)})(e.value)},{default:d((()=>[h(g(e.label),1)])),_:2},1032,["type","onClick"]))),64))])])),_:1})])])),_:1},8,["model"])])),_:1},8,["title","modelValue"]),u(Gt,{modelValue:Ga.value,"onUpdate:modelValue":a[16]||(a[16]=e=>Ga.value=e),title:"写手详情 - "+((null==(t=Xa.value)?void 0:t.name)||""),width:"800px","close-on-click-modal":!1,class:"writer-detail-dialog",onClosed:qt},{default:d((()=>{var e,t,l,i,n;return[Xa.value?(r(),o("div",Ce,[s("div",ke,[s("div",De,[s("div",Ae,[u(Kt,{size:80,src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${Xa.value.name}`},null,8,["src"])]),s("div",Te,[s("div",Ee,[s("div",xe,g(Xa.value.name),1),s("div",Le,g(Xa.value.writer_id),1)]),s("div",Pe,[u(oe,{size:"medium",effect:"plain"},{default:d((()=>[h(g(Xa.value.education),1)])),_:1}),u(oe,{size:"medium",type:"warning",effect:"plain"},{default:d((()=>[h(g(Xa.value.writing_experience),1)])),_:1}),1===Xa.value.is_activated?(r(),f(oe,{key:0,size:"medium",type:"success",effect:"plain"},{default:d((()=>a[45]||(a[45]=[h("已开通账号")]))),_:1})):(r(),f(oe,{key:1,size:"medium",type:"info",effect:"plain"},{default:d((()=>a[46]||(a[46]=[h("未开通账号")]))),_:1}))])])])]),(null==(e=Xa.value)?void 0:e.latest_rating)?(r(),o("div",Be,[s("div",Ie,[s("div",Me,[u(le,null,{default:d((()=>[u(_(F))])),_:1}),a[47]||(a[47]=s("span",null,"最新评分信息",-1))]),s("div",Ve,g(Xa.value.latest_rating.date),1)]),s("div",Ne,[s("div",Re,[s("div",Se,[s("span",ze,g("string"==typeof Xa.value.latest_rating.score?parseFloat(Xa.value.latest_rating.score).toFixed(1):Xa.value.latest_rating.score.toFixed(1)),1),a[48]||(a[48]=s("div",{class:"score-label"},"综合评分",-1))]),s("div",Oe,[u($t,{"model-value":Xa.value.latest_rating?Number(Xa.value.latest_rating.score):0,disabled:"","show-score":"",colors:pt,max:10,"allow-half":!0,"text-color":"#ff9900"},null,8,["model-value"])])]),s("div",Ue,[s("div",qe,[a[49]||(a[49]=s("div",{class:"comment-title"},"评价内容",-1)),(null==(t=Xa.value.latest_rating)?void 0:t.quality_inspector)?(r(),o("div",He,[u(Kt,{size:24,src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${(null==(l=Xa.value.latest_rating.quality_inspector)?void 0:l.name)||"default"}`},null,8,["src"]),s("span",null,g(null==(i=Xa.value.latest_rating.quality_inspector)?void 0:i.name),1)])):w("",!0)]),s("div",je,g(Xa.value.latest_rating.comment),1),s("div",Fe,[h(" 评分时间: "+g(Vt(Xa.value.latest_rating.created_at))+" ",1),Xa.value.latest_rating.updated_at!==Xa.value.latest_rating.created_at?(r(),o("span",Ge," (更新于: "+g(Vt(Xa.value.latest_rating.updated_at))+") ",1)):w("",!0)])])])])):w("",!0),s("div",Ke,[u(Yt,{column:2,border:""},{default:d((()=>[u(Xt,{"label-class-name":"detail-label","content-class-name":"detail-content"},{label:d((()=>[s("div",$e,[u(le,null,{default:d((()=>[u(_(U))])),_:1}),a[50]||(a[50]=s("span",null,"姓名",-1))])])),default:d((()=>[h(" "+g(Xa.value.name),1)])),_:1}),u(Xt,{"label-class-name":"detail-label","content-class-name":"detail-content"},{label:d((()=>[s("div",Xe,[u(le,null,{default:d((()=>[u(_(G))])),_:1}),a[51]||(a[51]=s("span",null,"专业",-1))])])),default:d((()=>[h(" "+g(Xa.value.major),1)])),_:1}),u(Xt,{"label-class-name":"detail-label","content-class-name":"detail-content"},{label:d((()=>[s("div",Ye,[u(le,null,{default:d((()=>[u(_(K))])),_:1}),a[52]||(a[52]=s("span",null,"学历",-1))])])),default:d((()=>[h(" "+g(Xa.value.education),1)])),_:1}),u(Xt,{"label-class-name":"detail-label","content-class-name":"detail-content"},{label:d((()=>[s("div",Qe,[u(le,null,{default:d((()=>[u(_($))])),_:1}),a[53]||(a[53]=s("span",null,"主修方向",-1))])])),default:d((()=>[h(" "+g(Xa.value.major),1)])),_:1}),u(Xt,{"label-class-name":"detail-label","content-class-name":"detail-content"},{label:d((()=>[s("div",Je,[u(le,null,{default:d((()=>[u(_(F))])),_:1}),a[54]||(a[54]=s("span",null,"写作水平",-1))])])),default:d((()=>[h(" "+g(Xa.value.writing_experience),1)])),_:1}),u(Xt,{"label-class-name":"detail-label","content-class-name":"detail-content"},{label:d((()=>[s("div",We,[u(le,null,{default:d((()=>[u(_(X))])),_:1}),a[55]||(a[55]=s("span",null,"手机号1",-1))])])),default:d((()=>[h(" "+g(Xa.value.phone_1),1)])),_:1}),u(Xt,{"label-class-name":"detail-label","content-class-name":"detail-content"},{label:d((()=>[s("div",Ze,[u(le,null,{default:d((()=>[u(_(Y))])),_:1}),a[56]||(a[56]=s("span",null,"手机号2",-1))])])),default:d((()=>[h(" "+g(Xa.value.phone_2||"无"),1)])),_:1}),u(Xt,{"label-class-name":"detail-label","content-class-name":"detail-content"},{label:d((()=>[s("div",ea,[u(le,null,{default:d((()=>[u(_(Q))])),_:1}),a[57]||(a[57]=s("span",null,"支付宝姓名",-1))])])),default:d((()=>[h(" "+g(Xa.value.alipay_name),1)])),_:1}),u(Xt,{"label-class-name":"detail-label","content-class-name":"detail-content"},{label:d((()=>[s("div",aa,[u(le,null,{default:d((()=>[u(_(J))])),_:1}),a[58]||(a[58]=s("span",null,"支付宝账号",-1))])])),default:d((()=>[h(" "+g(Xa.value.alipay_account),1)])),_:1}),u(Xt,{"label-class-name":"detail-label","content-class-name":"detail-content"},{label:d((()=>[s("div",ta,[u(le,null,{default:d((()=>[u(_(W))])),_:1}),a[59]||(a[59]=s("span",null,"身份证号",-1))])])),default:d((()=>[h(" "+g(Xa.value.id_number),1)])),_:1}),u(Xt,{"label-class-name":"detail-label","content-class-name":"detail-content"},{label:d((()=>[s("div",la,[u(le,null,{default:d((()=>[u(_(Z))])),_:1}),a[60]||(a[60]=s("span",null,"IP地址",-1))])])),default:d((()=>[h(" "+g(Xa.value.ip_address||"无"),1)])),_:1}),u(Xt,{"label-class-name":"detail-label","content-class-name":"detail-content"},{label:d((()=>[s("div",ia,[u(le,null,{default:d((()=>[u(_(ee))])),_:1}),a[61]||(a[61]=s("span",null,"创建时间",-1))])])),default:d((()=>[h(" "+g(Xa.value.created_time?_(I)(Xa.value.created_time):"无"),1)])),_:1}),u(Xt,{"label-class-name":"detail-label","content-class-name":"detail-content"},{label:d((()=>[s("div",na,[u(le,null,{default:d((()=>[u(_(G))])),_:1}),a[62]||(a[62]=s("span",null,"创建人",-1))])])),default:d((()=>[h(" "+g(Xa.value.created_by||"无"),1)])),_:1}),u(Xt,{"label-class-name":"detail-label","content-class-name":"detail-content"},{label:d((()=>[s("div",ra,[u(le,null,{default:d((()=>[u(_(ae))])),_:1}),a[63]||(a[63]=s("span",null,"最后修改时间",-1))])])),default:d((()=>[h(" "+g(Xa.value.last_modified_time?_(I)(Xa.value.last_modified_time):"无"),1)])),_:1}),u(Xt,{"label-class-name":"detail-label","content-class-name":"detail-content"},{label:d((()=>[s("div",oa,[u(le,null,{default:d((()=>[u(_(z))])),_:1}),a[64]||(a[64]=s("span",null,"最后修改人",-1))])])),default:d((()=>[h(" "+g(Xa.value.last_modified_by||"无"),1)])),_:1})])),_:1}),s("div",sa,[s("div",ua,[u(le,null,{default:d((()=>[u(_(te))])),_:1}),a[65]||(a[65]=s("span",null,"擅长内容",-1))]),s("div",da,[(r(!0),o(p,null,v(null==(n=Xa.value.specialized_content)?void 0:n.split(";"),((e,a)=>(r(),f(oe,{key:a,class:"specialized-tag",size:"small",effect:"plain"},{default:d((()=>[h(g(e),1)])),_:2},1024)))),128))])])])])):w("",!0)]})),_:1},8,["modelValue","title"]),u(Gt,{title:"写手申请二维码",modelValue:at.value,"onUpdate:modelValue":a[17]||(a[17]=e=>at.value=e),width:"400px","close-on-click-modal":!1,class:"qr-dialog",onClosed:jt},{default:d((()=>[s("div",ca,[s("div",{ref_key:"qrCodeRef",ref:et,class:"qr-code"},null,512),a[67]||(a[67]=s("p",{class:"qr-tip"},"扫描二维码进入写手申请页面",-1)),u(E,{type:"primary",onClick:It},{default:d((()=>a[66]||(a[66]=[h("保存二维码")]))),_:1})])])),_:1},8,["modelValue"]),u(Gt,{modelValue:it.value,"onUpdate:modelValue":a[22]||(a[22]=e=>it.value=e),title:"写手评分",width:"550px","close-on-click-modal":!1,"custom-class":"writer-rating-dialog",onClosed:Ht},{footer:d((()=>[s("div",xa,[u(E,{onClick:a[21]||(a[21]=e=>it.value=!1),class:"cancel-btn"},{default:d((()=>a[70]||(a[70]=[h("取消")]))),_:1}),u(E,{type:"primary",onClick:Mt,loading:ut.value,class:"submit-btn"},{default:d((()=>a[71]||(a[71]=[h(" 提交评分 ")]))),_:1},8,["loading"])])])),default:d((()=>{var e,t,l;return[s("div",pa,[s("div",va,[u(Kt,{size:60,src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${(null==(e=rt.value)?void 0:e.name)||"default"}`},null,8,["src"])]),s("div",ha,[s("div",ma,[s("h2",fa,g(null==(t=rt.value)?void 0:t.name),1),s("div",ga,g(null==(l=rt.value)?void 0:l.writer_id),1)]),s("div",_a,[u(oe,{size:"small",effect:"plain",type:"success"},{default:d((()=>{var e;return[h(g(null==(e=rt.value)?void 0:e.education),1)]})),_:1}),u(oe,{size:"small",effect:"plain",type:"warning"},{default:d((()=>{var e;return[h(g(null==(e=rt.value)?void 0:e.writing_experience),1)]})),_:1})])])]),s("div",wa,[u(L,{ref_key:"ratingFormRef",ref:nt,model:ot.value,rules:ct,"label-position":"top",class:"rating-form"},{default:d((()=>{var e,t;return[s("div",{class:b(["score-section",{"has-rating":dt.value}])},[a[68]||(a[68]=s("div",{class:"score-label"},[s("span",{class:"required-asterisk"},"*"),s("span",null,"评分 (1-10分)")],-1)),s("div",ba,[u($t,{modelValue:st.value,"onUpdate:modelValue":a[18]||(a[18]=e=>st.value=e),colors:pt,"allow-half":!0,max:10,texts:vt,"show-text":!0,onChange:Ot,class:"star-rate"},null,8,["modelValue"])]),s("div",ya,[s("span",Ca,g("number"==typeof ot.value.score?ot.value.score.toFixed(1):ot.value.score),1),u(Qt,{modelValue:ot.value.score,"onUpdate:modelValue":a[19]||(a[19]=e=>ot.value.score=e),min:1,max:10,step:.1,precision:1,"controls-position":"right",class:"score-input"},null,8,["modelValue"])])],2),s("div",{class:b(["rating-tips",{"rating-updated":dt.value}])},[u(le,null,{default:d((()=>[u(_(H))])),_:1}),dt.value?(r(),o("span",ka,"该写手今日已有评分，您可以查看或更新评分。评分时间: "+g(Vt(dt.value.created_at)),1)):(r(),o("span",Da,"评分范围: 1-10分，支持小数点后一位，每日仅能添加一次"))],2),u(C,{label:"评价内容",prop:"comment",class:"comment-item"},{default:d((()=>[u(y,{modelValue:ot.value.comment,"onUpdate:modelValue":a[20]||(a[20]=e=>ot.value.comment=e),type:"textarea",rows:5,placeholder:"请输入对写手的详细评价内容，如写作质量、响应速度、配合度等...",resize:"none",class:b(["comment-input",{"has-existing-content":dt.value}])},null,8,["modelValue","class"])])),_:1}),dt.value&&dt.value.quality_inspector?(r(),o("div",Aa,[a[69]||(a[69]=s("div",{class:"inspector-label"},"评分人员",-1)),s("div",Ta,[u(Kt,{size:28,src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${(null==(e=dt.value.quality_inspector)?void 0:e.name)||"default"}`,class:"inspector-avatar"},null,8,["src"]),s("span",Ea,g(null==(t=dt.value.quality_inspector)?void 0:t.name),1)])])):w("",!0)]})),_:1},8,["model"])])]})),_:1},8,["modelValue"]),u(Gt,{modelValue:ht.value,"onUpdate:modelValue":a[26]||(a[26]=e=>ht.value=e),title:`评分历史 - ${(null==(l=rt.value)?void 0:l.name)||""}`,width:"700px","close-on-click-modal":!1,"custom-class":"rating-history-dialog",onClosed:Ut},{default:d((()=>{var e,t,l;return[mt.value||ft.value&&0!==ft.value.length?mt.value?(r(),o("div",Pa,[u(Wt,{rows:5,animated:""})])):(r(),o("div",Ba,[s("div",Ia,[s("div",Ma,[u(Kt,{size:50,src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${(null==(e=rt.value)?void 0:e.name)||"default"}`},null,8,["src"]),s("div",Va,[s("div",Na,g(null==(t=rt.value)?void 0:t.name),1),s("div",Ra,g(null==(l=rt.value)?void 0:l.writer_id),1)])]),s("div",Sa,[u(Zt,{modelValue:bt.value,"onUpdate:modelValue":a[23]||(a[23]=e=>bt.value=e),type:"monthrange","start-placeholder":"开始月份","end-placeholder":"结束月份","value-format":"YYYY-MM",onChange:Rt},null,8,["modelValue"])])]),u(tt,{data:ft.value,border:"",stripe:"",style:{width:"100%"},"header-cell-style":{background:"#f5f7fa",color:"#606266",fontWeight:"600"}},{default:d((()=>[u(P,{prop:"date",label:"日期",width:"120",align:"center"},{default:d((({row:e})=>[h(g(_(I)(e.created_at||e.date)),1)])),_:1}),u(P,{prop:"score",label:"评分",width:"80",align:"center"},{default:d((({row:e})=>{return[s("span",{class:b(["history-score",(a=e.score,a>=9?"score-excellent":a>=8?"score-good":a>=6?"score-average":a>=4?"score-below-average":"score-poor")])},g("number"==typeof e.score?e.score.toFixed(1):e.score),3)];var a})),_:1}),u(P,{prop:"comment",label:"评价内容","min-width":"200"},{default:d((({row:e})=>[s("div",za,g(e.comment),1)])),_:1}),u(P,{prop:"inspector",label:"评分人",width:"120",align:"center"},{default:d((({row:e})=>{var a,t;return[e.quality_inspector?(r(),o("div",Oa,[u(Kt,{size:24,src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${(null==(a=e.quality_inspector)?void 0:a.name)||"default"}`},null,8,["src"]),s("span",null,g(null==(t=e.quality_inspector)?void 0:t.name),1)])):(r(),o("span",Ua,"-"))]})),_:1})])),_:1},8,["data"]),s("div",qa,[u(lt,{"current-page":_t.value,"onUpdate:currentPage":a[24]||(a[24]=e=>_t.value=e),"page-size":wt.value,"onUpdate:pageSize":a[25]||(a[25]=e=>wt.value=e),"page-sizes":[5,10,20],total:gt.value,layout:"total, sizes, prev, pager, next",onSizeChange:St,onCurrentChange:zt},null,8,["current-page","page-size","total"])])])):(r(),o("div",La,[u(Jt,{description:"暂无评分历史记录"})]))]})),_:1},8,["modelValue","title"])])}}}),[["__scopeId","data-v-b8229fa6"]]);export{Ha as default};
