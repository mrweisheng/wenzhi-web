import{N as Dt,O as kt,d as xt,r as D,m as Ve,n as Tt,b as P,I as Et,o as R,c as z,f as r,e as a,w as o,M as Rt,F as de,q as ce,h,p as At,s as ve,x as b,g as E,t as _e,P as De,E as M,A as Ee,Q as Lt,R as Me,S as Pt,C as Se,T as Bt,U as ze,V as It,W as Ne,i as Ue,X as Vt,Y as Mt,Z as St,_ as zt,$ as Nt,a0 as Ut,a1 as Ot,a2 as Ht,a3 as Ft,a4 as Qt,a5 as $t}from"./index-4kIbEQav.js";import{g as Gt,a as Wt,d as qt,b as Kt,u as Xt,c as Yt,e as Jt,r as jt,f as Zt}from"./writer-BQAS4UPm.js";import{c as ea}from"./user-D0IfgbUA.js";import{f as ke}from"./format-DZvyx3OM.js";import{g as ta}from"./ip-BtUT7s-A.js";import{a as aa}from"./date-CLpD1YEj.js";import{_ as la}from"./_plugin-vue_export-helper-DlAUqK2U.js";var He={exports:{}};(function(Re,he){var Y;(function(ae,U){Re.exports=U()})(Dt,function(){function ae(t){this.mode=N.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var l=0,n=this.data.length;l<n;l++){var s=[],i=this.data.charCodeAt(l);i>65536?(s[0]=240|(i&1835008)>>>18,s[1]=128|(i&258048)>>>12,s[2]=128|(i&4032)>>>6,s[3]=128|i&63):i>2048?(s[0]=224|(i&61440)>>>12,s[1]=128|(i&4032)>>>6,s[2]=128|i&63):i>128?(s[0]=192|(i&1984)>>>6,s[1]=128|i&63):s[0]=i,this.parsedData.push(s)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}ae.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var l=0,n=this.parsedData.length;l<n;l++)t.put(this.parsedData[l],8)}};function U(t,l){this.typeNumber=t,this.errorCorrectLevel=l,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}U.prototype={addData:function(t){var l=new ae(t);this.dataList.push(l),this.dataCache=null},isDark:function(t,l){if(t<0||this.moduleCount<=t||l<0||this.moduleCount<=l)throw new Error(t+","+l);return this.modules[t][l]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,l){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var s=0;s<this.moduleCount;s++)this.modules[n][s]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,l),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=U.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,l)},setupPositionProbePattern:function(t,l){for(var n=-1;n<=7;n++)if(!(t+n<=-1||this.moduleCount<=t+n))for(var s=-1;s<=7;s++)l+s<=-1||this.moduleCount<=l+s||(0<=n&&n<=6&&(s==0||s==6)||0<=s&&s<=6&&(n==0||n==6)||2<=n&&n<=4&&2<=s&&s<=4?this.modules[t+n][l+s]=!0:this.modules[t+n][l+s]=!1)},getBestMaskPattern:function(){for(var t=0,l=0,n=0;n<8;n++){this.makeImpl(!0,n);var s=T.getLostPoint(this);(n==0||t>s)&&(t=s,l=n)}return l},createMovieClip:function(t,l,n){var s=t.createEmptyMovieClip(l,n),i=1;this.make();for(var v=0;v<this.modules.length;v++)for(var p=v*i,u=0;u<this.modules[v].length;u++){var g=u*i,w=this.modules[v][u];w&&(s.beginFill(0,100),s.moveTo(g,p),s.lineTo(g+i,p),s.lineTo(g+i,p+i),s.lineTo(g,p+i),s.endFill())}return s},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var l=8;l<this.moduleCount-8;l++)this.modules[6][l]==null&&(this.modules[6][l]=l%2==0)},setupPositionAdjustPattern:function(){for(var t=T.getPatternPosition(this.typeNumber),l=0;l<t.length;l++)for(var n=0;n<t.length;n++){var s=t[l],i=t[n];if(this.modules[s][i]==null)for(var v=-2;v<=2;v++)for(var p=-2;p<=2;p++)v==-2||v==2||p==-2||p==2||v==0&&p==0?this.modules[s+v][i+p]=!0:this.modules[s+v][i+p]=!1}},setupTypeNumber:function(t){for(var l=T.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var s=!t&&(l>>n&1)==1;this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=s}for(var n=0;n<18;n++){var s=!t&&(l>>n&1)==1;this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=s}},setupTypeInfo:function(t,l){for(var n=this.errorCorrectLevel<<3|l,s=T.getBCHTypeInfo(n),i=0;i<15;i++){var v=!t&&(s>>i&1)==1;i<6?this.modules[i][8]=v:i<8?this.modules[i+1][8]=v:this.modules[this.moduleCount-15+i][8]=v}for(var i=0;i<15;i++){var v=!t&&(s>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=v:i<9?this.modules[8][15-i-1+1]=v:this.modules[8][15-i-1]=v}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,l){for(var n=-1,s=this.moduleCount-1,i=7,v=0,p=this.moduleCount-1;p>0;p-=2)for(p==6&&p--;;){for(var u=0;u<2;u++)if(this.modules[s][p-u]==null){var g=!1;v<t.length&&(g=(t[v]>>>i&1)==1);var w=T.getMask(l,s,p-u);w&&(g=!g),this.modules[s][p-u]=g,i--,i==-1&&(v++,i=7)}if(s+=n,s<0||this.moduleCount<=s){s-=n,n=-n;break}}}},U.PAD0=236,U.PAD1=17,U.createData=function(t,l,n){for(var s=f.getRSBlocks(t,l),i=new me,v=0;v<n.length;v++){var p=n[v];i.put(p.mode,4),i.put(p.getLength(),T.getLengthInBits(p.mode,t)),p.write(i)}for(var u=0,v=0;v<s.length;v++)u+=s[v].dataCount;if(i.getLengthInBits()>u*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+u*8+")");for(i.getLengthInBits()+4<=u*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=u*8||(i.put(U.PAD0,8),i.getLengthInBits()>=u*8));)i.put(U.PAD1,8);return U.createBytes(i,s)},U.createBytes=function(t,l){for(var n=0,s=0,i=0,v=new Array(l.length),p=new Array(l.length),u=0;u<l.length;u++){var g=l[u].dataCount,w=l[u].totalCount-g;s=Math.max(s,g),i=Math.max(i,w),v[u]=new Array(g);for(var _=0;_<v[u].length;_++)v[u][_]=255&t.buffer[_+n];n+=g;var I=T.getErrorCorrectPolynomial(w),V=new x(v[u],I.getLength()-1),O=V.mod(I);p[u]=new Array(I.getLength()-1);for(var _=0;_<p[u].length;_++){var S=_+O.getLength()-p[u].length;p[u][_]=S>=0?O.get(S):0}}for(var X=0,_=0;_<l.length;_++)X+=l[_].totalCount;for(var Q=new Array(X),$=0,_=0;_<s;_++)for(var u=0;u<l.length;u++)_<v[u].length&&(Q[$++]=v[u][_]);for(var _=0;_<i;_++)for(var u=0;u<l.length;u++)_<p[u].length&&(Q[$++]=p[u][_]);return Q};for(var N={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},k={L:1,M:0,Q:3,H:2},F={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},T={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var l=t<<10;T.getBCHDigit(l)-T.getBCHDigit(T.G15)>=0;)l^=T.G15<<T.getBCHDigit(l)-T.getBCHDigit(T.G15);return(t<<10|l)^T.G15_MASK},getBCHTypeNumber:function(t){for(var l=t<<12;T.getBCHDigit(l)-T.getBCHDigit(T.G18)>=0;)l^=T.G18<<T.getBCHDigit(l)-T.getBCHDigit(T.G18);return t<<12|l},getBCHDigit:function(t){for(var l=0;t!=0;)l++,t>>>=1;return l},getPatternPosition:function(t){return T.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,l,n){switch(t){case F.PATTERN000:return(l+n)%2==0;case F.PATTERN001:return l%2==0;case F.PATTERN010:return n%3==0;case F.PATTERN011:return(l+n)%3==0;case F.PATTERN100:return(Math.floor(l/2)+Math.floor(n/3))%2==0;case F.PATTERN101:return l*n%2+l*n%3==0;case F.PATTERN110:return(l*n%2+l*n%3)%2==0;case F.PATTERN111:return(l*n%3+(l+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var l=new x([1],0),n=0;n<t;n++)l=l.multiply(new x([1,B.gexp(n)],0));return l},getLengthInBits:function(t,l){if(1<=l&&l<10)switch(t){case N.MODE_NUMBER:return 10;case N.MODE_ALPHA_NUM:return 9;case N.MODE_8BIT_BYTE:return 8;case N.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(l<27)switch(t){case N.MODE_NUMBER:return 12;case N.MODE_ALPHA_NUM:return 11;case N.MODE_8BIT_BYTE:return 16;case N.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(l<41)switch(t){case N.MODE_NUMBER:return 14;case N.MODE_ALPHA_NUM:return 13;case N.MODE_8BIT_BYTE:return 16;case N.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+l)},getLostPoint:function(t){for(var l=t.getModuleCount(),n=0,s=0;s<l;s++)for(var i=0;i<l;i++){for(var v=0,p=t.isDark(s,i),u=-1;u<=1;u++)if(!(s+u<0||l<=s+u))for(var g=-1;g<=1;g++)i+g<0||l<=i+g||u==0&&g==0||p==t.isDark(s+u,i+g)&&v++;v>5&&(n+=3+v-5)}for(var s=0;s<l-1;s++)for(var i=0;i<l-1;i++){var w=0;t.isDark(s,i)&&w++,t.isDark(s+1,i)&&w++,t.isDark(s,i+1)&&w++,t.isDark(s+1,i+1)&&w++,(w==0||w==4)&&(n+=3)}for(var s=0;s<l;s++)for(var i=0;i<l-6;i++)t.isDark(s,i)&&!t.isDark(s,i+1)&&t.isDark(s,i+2)&&t.isDark(s,i+3)&&t.isDark(s,i+4)&&!t.isDark(s,i+5)&&t.isDark(s,i+6)&&(n+=40);for(var i=0;i<l;i++)for(var s=0;s<l-6;s++)t.isDark(s,i)&&!t.isDark(s+1,i)&&t.isDark(s+2,i)&&t.isDark(s+3,i)&&t.isDark(s+4,i)&&!t.isDark(s+5,i)&&t.isDark(s+6,i)&&(n+=40);for(var _=0,i=0;i<l;i++)for(var s=0;s<l;s++)t.isDark(s,i)&&_++;var I=Math.abs(100*_/l/l-50)/5;return n+=I*10,n}},B={glog:function(t){if(t<1)throw new Error("glog("+t+")");return B.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return B.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},L=0;L<8;L++)B.EXP_TABLE[L]=1<<L;for(var L=8;L<256;L++)B.EXP_TABLE[L]=B.EXP_TABLE[L-4]^B.EXP_TABLE[L-5]^B.EXP_TABLE[L-6]^B.EXP_TABLE[L-8];for(var L=0;L<255;L++)B.LOG_TABLE[B.EXP_TABLE[L]]=L;function x(t,l){if(t.length==null)throw new Error(t.length+"/"+l);for(var n=0;n<t.length&&t[n]==0;)n++;this.num=new Array(t.length-n+l);for(var s=0;s<t.length-n;s++)this.num[s]=t[s+n]}x.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var l=new Array(this.getLength()+t.getLength()-1),n=0;n<this.getLength();n++)for(var s=0;s<t.getLength();s++)l[n+s]^=B.gexp(B.glog(this.get(n))+B.glog(t.get(s)));return new x(l,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var l=B.glog(this.get(0))-B.glog(t.get(0)),n=new Array(this.getLength()),s=0;s<this.getLength();s++)n[s]=this.get(s);for(var s=0;s<t.getLength();s++)n[s]^=B.gexp(B.glog(t.get(s))+l);return new x(n,0).mod(t)}};function f(t,l){this.totalCount=t,this.dataCount=l}f.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],f.getRSBlocks=function(t,l){var n=f.getRsBlockTable(t,l);if(n==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+l);for(var s=n.length/3,i=[],v=0;v<s;v++)for(var p=n[v*3+0],u=n[v*3+1],g=n[v*3+2],w=0;w<p;w++)i.push(new f(u,g));return i},f.getRsBlockTable=function(t,l){switch(l){case k.L:return f.RS_BLOCK_TABLE[(t-1)*4+0];case k.M:return f.RS_BLOCK_TABLE[(t-1)*4+1];case k.Q:return f.RS_BLOCK_TABLE[(t-1)*4+2];case k.H:return f.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function me(){this.buffer=[],this.length=0}me.prototype={get:function(t){var l=Math.floor(t/8);return(this.buffer[l]>>>7-t%8&1)==1},put:function(t,l){for(var n=0;n<l;n++)this.putBit((t>>>l-n-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var l=Math.floor(this.length/8);this.buffer.length<=l&&this.buffer.push(0),t&&(this.buffer[l]|=128>>>this.length%8),this.length++}};var Z=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function be(){return typeof CanvasRenderingContext2D<"u"}function we(){var t=!1,l=navigator.userAgent;if(/android/i.test(l)){t=!0;var n=l.toString().match(/android ([0-9]\.[0-9])/i);n&&n[1]&&(t=parseFloat(n[1]))}return t}var J=function(){var t=function(l,n){this._el=l,this._htOption=n};return t.prototype.draw=function(l){var n=this._htOption,s=this._el,i=l.getModuleCount();Math.floor(n.width/i),Math.floor(n.height/i),this.clear();function v(_,I){var V=document.createElementNS("http://www.w3.org/2000/svg",_);for(var O in I)I.hasOwnProperty(O)&&V.setAttribute(O,I[O]);return V}var p=v("svg",{viewBox:"0 0 "+String(i)+" "+String(i),width:"100%",height:"100%",fill:n.colorLight});p.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),s.appendChild(p),p.appendChild(v("rect",{fill:n.colorLight,width:"100%",height:"100%"})),p.appendChild(v("rect",{fill:n.colorDark,width:"1",height:"1",id:"template"}));for(var u=0;u<i;u++)for(var g=0;g<i;g++)if(l.isDark(u,g)){var w=v("use",{x:String(g),y:String(u)});w.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),p.appendChild(w)}},t.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},t}(),pe=document.documentElement.tagName.toLowerCase()==="svg",se=pe?J:be()?function(){function t(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}if(this&&this._android&&this._android<=2.1){var l=1/window.devicePixelRatio,n=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(v,p,u,g,w,_,I,V,O){if("nodeName"in v&&/img/i.test(v.nodeName))for(var S=arguments.length-1;S>=1;S--)arguments[S]=arguments[S]*l;else typeof V>"u"&&(arguments[1]*=l,arguments[2]*=l,arguments[3]*=l,arguments[4]*=l);n.apply(this,arguments)}}function s(v,p){var u=this;if(u._fFail=p,u._fSuccess=v,u._bSupportDataURI===null){var g=document.createElement("img"),w=function(){u._bSupportDataURI=!1,u._fFail&&u._fFail.call(u)},_=function(){u._bSupportDataURI=!0,u._fSuccess&&u._fSuccess.call(u)};g.onabort=w,g.onerror=w,g.onload=_,g.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==";return}else u._bSupportDataURI===!0&&u._fSuccess?u._fSuccess.call(u):u._bSupportDataURI===!1&&u._fFail&&u._fFail.call(u)}var i=function(v,p){this._bIsPainted=!1,this._android=we(),this._htOption=p,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=p.width,this._elCanvas.height=p.height,v.appendChild(this._elCanvas),this._el=v,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return i.prototype.draw=function(v){var p=this._elImage,u=this._oContext,g=this._htOption,w=v.getModuleCount(),_=g.width/w,I=g.height/w,V=Math.round(_),O=Math.round(I);p.style.display="none",this.clear();for(var S=0;S<w;S++)for(var X=0;X<w;X++){var Q=v.isDark(S,X),$=X*_,oe=S*I;u.strokeStyle=Q?g.colorDark:g.colorLight,u.lineWidth=1,u.fillStyle=Q?g.colorDark:g.colorLight,u.fillRect($,oe,_,I),u.strokeRect(Math.floor($)+.5,Math.floor(oe)+.5,V,O),u.strokeRect(Math.ceil($)-.5,Math.ceil(oe)-.5,V,O)}this._bIsPainted=!0},i.prototype.makeImage=function(){this._bIsPainted&&s.call(this,t)},i.prototype.isPainted=function(){return this._bIsPainted},i.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},i.prototype.round=function(v){return v&&Math.floor(v*1e3)/1e3},i}():function(){var t=function(l,n){this._el=l,this._htOption=n};return t.prototype.draw=function(l){for(var n=this._htOption,s=this._el,i=l.getModuleCount(),v=Math.floor(n.width/i),p=Math.floor(n.height/i),u=['<table style="border:0;border-collapse:collapse;">'],g=0;g<i;g++){u.push("<tr>");for(var w=0;w<i;w++)u.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+v+"px;height:"+p+"px;background-color:"+(l.isDark(g,w)?n.colorDark:n.colorLight)+';"></td>');u.push("</tr>")}u.push("</table>"),s.innerHTML=u.join("");var _=s.childNodes[0],I=(n.width-_.offsetWidth)/2,V=(n.height-_.offsetHeight)/2;I>0&&V>0&&(_.style.margin=V+"px "+I+"px")},t.prototype.clear=function(){this._el.innerHTML=""},t}();function ie(t,l){for(var n=1,s=ye(t),i=0,v=Z.length;i<=v;i++){var p=0;switch(l){case k.L:p=Z[i][0];break;case k.M:p=Z[i][1];break;case k.Q:p=Z[i][2];break;case k.H:p=Z[i][3];break}if(s<=p)break;n++}if(n>Z.length)throw new Error("Too long data");return n}function ye(t){var l=encodeURI(t).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return l.length+(l.length!=t?3:0)}return Y=function(t,l){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:k.H},typeof l=="string"&&(l={text:l}),l)for(var n in l)this._htOption[n]=l[n];typeof t=="string"&&(t=document.getElementById(t)),this._htOption.useSVG&&(se=J),this._android=we(),this._el=t,this._oQRCode=null,this._oDrawing=new se(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)},Y.prototype.makeCode=function(t){this._oQRCode=new U(ie(t,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(t),this._oQRCode.make(),this._el.title=t,this._oDrawing.draw(this._oQRCode),this.makeImage()},Y.prototype.makeImage=function(){typeof this._oDrawing.makeImage=="function"&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},Y.prototype.clear=function(){this._oDrawing.clear()},Y.CorrectLevel=k,Y})})(He);var na=He.exports;const Oe=kt(na),sa={class:"app-container"},ia={class:"toolbar"},oa={class:"action-buttons"},ra={class:"content-cell"},ua={class:"operation-btns"},da={class:"btn-group"},ca={class:"btn-group"},va={class:"btn-group"},pa={class:"pagination-container"},fa={class:"form-section"},ga={class:"form-section"},_a={class:"form-section"},ha={class:"form-section"},ma={class:"tag-container"},ba={key:0,class:"writer-detail-container"},wa={class:"detail-header-card"},ya={class:"writer-base-info"},Ca={class:"writer-avatar"},Da={class:"writer-title-info"},ka={class:"writer-name-row"},xa={class:"writer-name"},Ta={class:"writer-id"},Ea={class:"writer-tags"},Ra={key:0,class:"latest-rating-section"},Aa={class:"rating-header"},La={class:"rating-title"},Pa={class:"rating-date"},Ba={class:"rating-content"},Ia={class:"rating-score-section"},Va={class:"score-display"},Ma={class:"score-value"},Sa={class:"score-stars"},za={class:"rating-comment-section"},Na={class:"comment-header"},Ua={key:0,class:"inspector-info"},Oa={class:"comment-content"},Ha={class:"rating-time"},Fa={key:0},Qa={class:"detail-info-container"},$a={class:"label-with-icon"},Ga={class:"label-with-icon"},Wa={class:"label-with-icon"},qa={class:"label-with-icon"},Ka={class:"label-with-icon"},Xa={class:"label-with-icon"},Ya={class:"label-with-icon"},Ja={class:"label-with-icon"},ja={class:"label-with-icon"},Za={class:"label-with-icon"},el={class:"label-with-icon"},tl={class:"label-with-icon"},al={class:"label-with-icon"},ll={class:"label-with-icon"},nl={class:"label-with-icon"},sl={class:"specialized-content-section"},il={class:"label-with-icon"},ol={class:"specialized-tags-container"},rl={class:"qr-container"},ul={class:"rating-header"},dl={class:"writer-avatar"},cl={class:"writer-info"},vl={class:"writer-name-row"},pl={class:"writer-name"},fl={class:"writer-id"},gl={class:"writer-tags"},_l={class:"rating-body"},hl={class:"score-content"},ml={class:"score-input-row"},bl={class:"score-value"},wl={key:0},yl={key:1},Cl={key:0,class:"rating-inspector-info"},Dl={class:"inspector-content"},kl={class:"inspector-name"},xl={class:"dialog-footer"},Tl={key:0,class:"empty-history"},El={key:1,class:"loading-history"},Rl={key:2,class:"rating-history-container"},Al={class:"history-header"},Ll={class:"writer-info"},Pl={class:"writer-detail"},Bl={class:"writer-name"},Il={class:"writer-id"},Vl={class:"date-filter"},Ml={class:"comment-cell"},Sl={key:0,class:"inspector-cell"},zl={key:1},Nl={class:"history-pagination"},Ul=6,Ol=xt({__name:"index",setup(Re){const he=D(!1),Y=D(!1),ae=D([]),U=D(0),N=D([]),k=D({page:1,pageSize:10,writer_id:"",name:"",education:"",writing_experience:"",startTime:"",endTime:""}),F=D(!1),T=D(""),B=D(!1),L=D(),x=D({name:"",education:"",major:"",writing_experience:"",specialized_content:"",phone_1:"",phone_2:"",alipay_name:"",alipay_account:"",id_number:"",ip_address:""}),f=D(null),me={name:[{required:!0,message:"请输入姓名",trigger:"blur"}],education:[{required:!0,message:"请选择学历",trigger:"change"}],major:[{required:!0,message:"请输入专业",trigger:"blur"}],writing_experience:[{required:!0,message:"请选择写作水平",trigger:"change"}],id_number:[{required:!0,message:"请输入身份证号",trigger:"blur"},{pattern:/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,message:"请输入正确的身份证号",trigger:"blur"}],phone_1:[{required:!0,message:"请输入手机号码",trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号码",trigger:"blur"}],specialized_content:[{required:!0,message:"请选择擅长内容",trigger:"change"}],alipay_name:[{required:!0,message:"请输入支付宝姓名",trigger:"blur"}],alipay_account:[{required:!0,message:"请输入支付宝账号",trigger:"blur"}]},Z=[{value:"专科",label:"专科"},{value:"本科",label:"本科"},{value:"硕士",label:"硕士"},{value:"博士",label:"博士"}],be=[{value:"大学水平",label:"大学水平"},{value:"在职水平",label:"在职水平"},{value:"事业单位水平",label:"事业单位水平"},{value:"淘宝老手",label:"淘宝老手"},{value:"在职老师",label:"在职老师"},{value:"期刊报告科研",label:"期刊报告科研"}],we=[{value:"ppt制作",label:"PPT制作"},{value:"演讲稿、征文、读后感",label:"演讲稿/征文/读后感"},{value:"公文类、对照材料、生活会、讲话稿，公文材料、研讨材料、领导讲话",label:"公文材料/讲话稿"},{value:"调查报告、学术报告、期刊、研究性文章",label:"报告/期刊/论文"},{value:"广告词、广告语、推文、商业文案",label:"广告/文案"},{value:"商业计划书、策划方案、项目可行性研究报告",label:"计划书/方案"},{value:"保洁、物业、工程、绿化、采购标书",label:"标书类"},{value:"抄写",label:"抄写"}],J=D([]),pe=D(),se=D(!1);let ie=null;const ye=D();Ve(ye,c=>{const{startTime:e,endTime:m}=aa(c);k.value.startTime=e,k.value.endTime=m});const t=D(!1),l=D(),n=D(null),s=D({score:0,comment:""}),i=D(0),v=D(!1),p=D(null),u={score:[{required:!0,message:"请输入评分",trigger:"blur"},{type:"number",min:1,max:10,message:"评分必须在1到10之间",trigger:"blur"}],comment:[{required:!0,message:"请输入评价内容",trigger:"blur"}]},g=["#c6d1de","#e6a23c","#67c23a"],w=["较差","一般","优秀"],_=D(!1),I=D(!1),V=D([]),O=D(0),S=D(1),X=D(10),Q=D(null),$=async()=>{try{he.value=!0;const c=await Gt(k.value);c.data&&c.data.data&&(ae.value=c.data.data.list||[],U.value=c.data.data.total||0,console.log("写手列表数据:",ae.value))}catch(c){console.error("获取写手列表失败:",c),M.error("获取写手列表失败"),ae.value=[],U.value=0}finally{he.value=!1}},oe=()=>{k.value.page=1,$()},Fe=()=>{k.value={page:1,pageSize:10,writer_id:"",name:"",education:"",writing_experience:"",startTime:"",endTime:""},ye.value=void 0,$()},Qe=c=>{N.value=c.map(e=>e.id)},$e=()=>{T.value="新增写手",je(),F.value=!0},Ge=c=>{var e;T.value="编辑写手",x.value={id:c.id,writer_id:c.writer_id,name:c.name,education:c.education,major:c.major,writing_experience:c.writing_experience,specialized_content:c.specialized_content,phone_1:c.phone_1,phone_2:c.phone_2,alipay_name:c.alipay_name,alipay_account:c.alipay_account,id_number:c.id_number||"",ip_address:c.ip_address},J.value=((e=c.specialized_content)==null?void 0:e.split(";"))||[],F.value=!0},We=async c=>{var e;try{const m=await Wt(c.id);console.log("获取写手详情成功:",m.data),m.data&&m.data.code===0?f.value=m.data.data:(f.value=null,M.error(((e=m.data)==null?void 0:e.message)||"获取写手详情失败")),B.value=!0}catch(m){console.error("获取写手详情失败:",m),M.error("获取写手详情失败")}},qe=async c=>{try{await Ee.confirm("确认删除该写手吗？","提示",{type:"warning"}),await qt(c.id),M.success("删除成功"),$()}catch(e){console.error("删除写手失败:",e)}},Ke=async()=>{if(N.value.length!==0)try{await Ee.confirm("确认删除选中的写手吗？","提示",{type:"warning"}),await Kt(N.value),M.success("删除成功"),$()}catch(c){console.error("批量删除写手失败:",c)}},Xe=async()=>{if(L.value){await L.value.validate();try{Y.value=!0;const c=await ta(),e={...x.value,specialized_content:J.value.join(";"),ip_address:c};if(T.value==="编辑写手"){if(!e.writer_id){M.error("写手ID不能为空");return}await Xt(e.id,e),M.success("更新成功")}else await Yt(e),M.success("创建成功");F.value=!1,$()}catch(c){console.error("提交写手表单失败:",c)}finally{Y.value=!1}}},Ye=c=>{k.value.pageSize=c,$()},Je=c=>{k.value.page=c,$()},je=()=>{L.value&&L.value.resetFields(),x.value={name:"",education:"",major:"",writing_experience:"",specialized_content:"",phone_1:"",phone_2:"",alipay_name:"",alipay_account:"",id_number:"",ip_address:""},J.value=[]},Ze=c=>{const e=J.value.indexOf(c);e===-1?J.value.push(c):J.value.splice(e,1)},et=async()=>{if(se.value=!0,await Lt(),ie)return;const c="http://192.168.31.207:5173/writer-application";console.log("二维码URL:",c),ie=new Oe(pe.value,{text:c,width:256,height:256,colorDark:"#000000",colorLight:"#ffffff",correctLevel:Oe.CorrectLevel.H})},tt=()=>{const c=pe.value.querySelector("canvas");if(c){const e=c.toDataURL("image/png"),m=document.createElement("a");m.download="写手申请二维码.png",m.href=e,document.body.appendChild(m),m.click(),document.body.removeChild(m)}};Ve(se,c=>{});const at=async c=>{var e;try{await Ee.confirm(`确认为 ${c.name} 开通登录权限吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});const m={username:c.writer_id,password:"123456",real_name:c.name,role_id:Ul,email:"",status:1},y=await ea(m);y.data&&y.data.code===0?M.success(`已成功为 ${c.name} 开通登录权限，账号: ${c.writer_id}，密码: 123456`):M.error(((e=y.data)==null?void 0:e.message)||"开通登录权限失败")}catch(m){if(m.toString().includes("cancel"))return;if(m.response&&m.response.data){const y=m.response.data.message;y&&y.includes("username")?M.error("该写手ID已经开通过登录权限"):M.error("开通登录权限失败: "+y)}else console.error("开通登录权限失败:",m),M.error("开通登录权限失败")}},lt=async c=>{n.value=c,s.value={score:0,comment:""},i.value=0;try{v.value=!0;const e=await Jt(c.id);e.data&&e.data.code===0&&(e.data.data?(p.value=e.data.data,s.value={score:typeof e.data.data.score=="string"?parseFloat(e.data.data.score):e.data.data.score,comment:p.value.comment},i.value=typeof s.value.score=="number"?s.value.score:parseFloat(String(s.value.score)),M({type:"info",message:"该写手今日已有评分，您可以查看或更新评分"})):p.value=null)}catch(e){console.error("获取写手今日评分失败:",e),p.value=null}finally{v.value=!1,t.value=!0}},nt=async()=>{var c,e,m,y;if(l.value)try{if(await l.value.validate(),!((c=n.value)!=null&&c.id)){M.error("写手ID不存在");return}v.value=!0;const K=await jt(n.value.id,{score:s.value.score,comment:s.value.comment}),re={id:((e=K.data.data)==null?void 0:e.id)||Date.now(),writer:{id:n.value.id,writer_id:n.value.writer_id,name:n.value.name},score:s.value.score,comment:s.value.comment,date:new Date().toISOString().split("T")[0],created_at:new Date().toISOString().replace("T"," ").substring(0,19),updated_at:new Date().toISOString().replace("T"," ").substring(0,19)};p.value=re,M.success(K.data.message||"评分提交成功"),t.value=!1}catch(K){console.error("提交评分失败:",K),(y=(m=K.response)==null?void 0:m.data)!=null&&y.message?M.error(K.response.data.message):M.error("提交评分失败")}finally{v.value=!1}},xe=c=>c?new Date(c).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}):"无",Ce=async()=>{var c,e;if((c=n.value)!=null&&c.id){I.value=!0;try{const m={page:S.value,pageSize:X.value};if(Q.value&&Q.value.length===2){m.start_date=Q.value[0]+"-01";const K=new Date(parseInt(Q.value[1].split("-")[0]),parseInt(Q.value[1].split("-")[1]),0).getDate();m.end_date=Q.value[1]+"-"+K}const y=await Zt(n.value.id,m);y.data&&y.data.code===0?(V.value=y.data.data.list||[],O.value=y.data.data.total||0):(M.warning(((e=y.data)==null?void 0:e.message)||"获取评分历史数据失败"),V.value=[],O.value=0)}catch(m){console.error("获取评分历史失败:",m),M.error("获取评分历史失败"),V.value=[],O.value=0}finally{I.value=!1}}},st=()=>{S.value=1,Ce()},it=c=>{X.value=c,Ce()},ot=c=>{S.value=c,Ce()},rt=c=>c>=9?"score-excellent":c>=8?"score-good":c>=6?"score-average":c>=4?"score-below-average":"score-poor",ut=c=>{s.value.score=Number(c.toFixed(1))};Tt(()=>{$()});const dt=c=>{n.value=c,_.value=!0,S.value=1,Ce()},ct=()=>{V.value=[],O.value=0},vt=()=>{f.value=null},pt=()=>{s.value={score:0,comment:""},i.value=0,p.value=null},ft=()=>{ie&&(ie=null)};return(c,e)=>{var Be,Ie;const m=P("el-input"),y=P("el-form-item"),K=P("el-option"),re=P("el-select"),H=P("el-button"),Te=P("el-form"),q=P("el-table-column"),gt=P("el-tooltip"),A=P("el-icon"),ee=P("el-tag"),Ae=P("el-table"),Le=P("el-pagination"),te=P("el-col"),fe=P("el-row"),ge=P("el-dialog"),ue=P("el-avatar"),Pe=P("el-rate"),G=P("el-descriptions-item"),_t=P("el-descriptions"),ht=P("el-input-number"),mt=P("el-empty"),bt=P("el-skeleton"),wt=P("el-date-picker"),yt=Et("loading");return R(),z("div",sa,[r("div",ia,[a(Te,{inline:!0,model:k.value,class:"search-form"},{default:o(()=>[a(y,null,{default:o(()=>[a(m,{modelValue:k.value.name,"onUpdate:modelValue":e[0]||(e[0]=d=>k.value.name=d),placeholder:"姓名",clearable:"",onKeyup:Rt(oe,["enter"])},null,8,["modelValue"])]),_:1}),a(y,null,{default:o(()=>[a(re,{modelValue:k.value.education,"onUpdate:modelValue":e[1]||(e[1]=d=>k.value.education=d),placeholder:"学历",clearable:"",filterable:""},{default:o(()=>[(R(),z(de,null,ce(Z,d=>a(K,{key:d.value,label:d.label,value:d.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),a(y,null,{default:o(()=>[a(re,{modelValue:k.value.writing_experience,"onUpdate:modelValue":e[2]||(e[2]=d=>k.value.writing_experience=d),placeholder:"写作水平",clearable:"",filterable:""},{default:o(()=>[(R(),z(de,null,ce(be,d=>a(K,{key:d.value,label:d.label,value:d.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),a(y,null,{default:o(()=>[a(H,{type:"primary",onClick:oe},{default:o(()=>e[27]||(e[27]=[h("搜索")])),_:1}),a(H,{onClick:Fe},{default:o(()=>e[28]||(e[28]=[h("重置")])),_:1})]),_:1})]),_:1},8,["model"]),r("div",oa,[a(H,{type:"primary",onClick:$e},{default:o(()=>e[29]||(e[29]=[h("新增写手")])),_:1}),a(H,{type:"success",onClick:et},{default:o(()=>e[30]||(e[30]=[h("写手申请")])),_:1}),a(H,{type:"danger",disabled:N.value.length===0,onClick:Ke},{default:o(()=>e[31]||(e[31]=[h(" 批量删除 ")])),_:1},8,["disabled"])])]),At((R(),ve(Ae,{data:ae.value,onSelectionChange:Qe,style:{width:"100%","margin-top":"20px"},border:"",stripe:"","header-cell-style":{background:"#f5f7fa",color:"#606266",fontWeight:"600"}},{default:o(()=>[a(q,{type:"selection",width:"55",align:"center"}),a(q,{prop:"writer_id",label:"写手ID",width:"110","show-overflow-tooltip":"",align:"center"}),a(q,{prop:"name",label:"姓名",width:"100","show-overflow-tooltip":"",align:"center"}),a(q,{prop:"education",label:"学历",width:"90","show-overflow-tooltip":"",align:"center"}),a(q,{prop:"major",label:"专业",width:"120","show-overflow-tooltip":""}),a(q,{prop:"writing_experience",label:"写作水平",width:"110","show-overflow-tooltip":""}),a(q,{prop:"specialized_content",label:"擅长内容","min-width":"180","show-overflow-tooltip":""},{default:o(({row:d})=>[a(gt,{class:"box-item",effect:"dark",content:d.specialized_content,placement:"top-start","show-after":100},{default:o(()=>[r("div",ra,b(d.specialized_content),1)]),_:2},1032,["content"])]),_:1}),a(q,{prop:"phone_1",label:"联系电话",width:"120","show-overflow-tooltip":"",align:"center"}),a(q,{prop:"created_time",label:"创建时间",width:"160",align:"center"},{default:o(({row:d})=>[h(b(E(ke)(d.created_time)),1)]),_:1}),a(q,{label:"操作",width:"280",fixed:"right",align:"center"},{default:o(({row:d})=>[r("div",ua,[r("div",da,[a(H,{type:"primary",link:"",onClick:W=>Ge(d)},{default:o(()=>[a(A,null,{default:o(()=>[a(E(Me))]),_:1}),e[32]||(e[32]=h("编辑 "))]),_:2},1032,["onClick"]),a(H,{type:"info",link:"",onClick:W=>We(d)},{default:o(()=>[a(A,null,{default:o(()=>[a(E(Pt))]),_:1}),e[33]||(e[33]=h("查看 "))]),_:2},1032,["onClick"])]),r("div",ca,[d.is_activated===1?(R(),ve(ee,{key:0,size:"small",type:"success",effect:"plain"},{default:o(()=>e[34]||(e[34]=[h("已开通")])),_:1})):(R(),ve(H,{key:1,type:"success",link:"",onClick:W=>at(d)},{default:o(()=>[a(A,null,{default:o(()=>[a(E(Se))]),_:1}),e[35]||(e[35]=h("开通 "))]),_:2},1032,["onClick"])),a(H,{type:"warning",link:"",onClick:W=>lt(d)},{default:o(()=>[a(A,null,{default:o(()=>[a(E(Bt))]),_:1}),e[36]||(e[36]=h("评分 "))]),_:2},1032,["onClick"]),a(H,{type:"info",link:"",onClick:W=>dt(d)},{default:o(()=>[a(A,null,{default:o(()=>[a(E(ze))]),_:1}),e[37]||(e[37]=h("历史 "))]),_:2},1032,["onClick"])]),r("div",va,[a(H,{type:"danger",link:"",onClick:W=>qe(d)},{default:o(()=>[a(A,null,{default:o(()=>[a(E(It))]),_:1}),e[38]||(e[38]=h("删除 "))]),_:2},1032,["onClick"])])])]),_:1})]),_:1},8,["data"])),[[yt,he.value]]),r("div",pa,[a(Le,{"current-page":k.value.page,"onUpdate:currentPage":e[3]||(e[3]=d=>k.value.page=d),"page-size":k.value.pageSize,"onUpdate:pageSize":e[4]||(e[4]=d=>k.value.pageSize=d),"page-sizes":[10,20,50,100],total:U.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:Ye,onCurrentChange:Je},null,8,["current-page","page-size","total"])]),a(ge,{title:T.value,modelValue:F.value,"onUpdate:modelValue":e[15]||(e[15]=d=>F.value=d),width:"800px","close-on-click-modal":!1},{footer:o(()=>[a(H,{onClick:e[14]||(e[14]=d=>F.value=!1)},{default:o(()=>e[43]||(e[43]=[h("取消")])),_:1}),a(H,{type:"primary",onClick:Xe,loading:Y.value},{default:o(()=>e[44]||(e[44]=[h(" 确定 ")])),_:1},8,["loading"])]),default:o(()=>[a(Te,{ref_key:"formRef",ref:L,model:x.value,rules:me,"label-width":"100px",class:"writer-form"},{default:o(()=>[r("div",fa,[e[39]||(e[39]=r("div",{class:"section-title"},"基本信息",-1)),a(fe,{gutter:20},{default:o(()=>[a(te,{span:8},{default:o(()=>[a(y,{label:"姓名",prop:"name"},{default:o(()=>[a(m,{modelValue:x.value.name,"onUpdate:modelValue":e[5]||(e[5]=d=>x.value.name=d),placeholder:"请输入姓名"},null,8,["modelValue"])]),_:1})]),_:1}),a(te,{span:8},{default:o(()=>[a(y,{label:"专业",prop:"major"},{default:o(()=>[a(m,{modelValue:x.value.major,"onUpdate:modelValue":e[6]||(e[6]=d=>x.value.major=d),placeholder:"请输入专业"},null,8,["modelValue"])]),_:1})]),_:1}),a(te,{span:8},{default:o(()=>[a(y,{label:"学历",prop:"education"},{default:o(()=>[a(re,{modelValue:x.value.education,"onUpdate:modelValue":e[7]||(e[7]=d=>x.value.education=d),placeholder:"请选择学历",style:{width:"100%"}},{default:o(()=>[(R(),z(de,null,ce(Z,d=>a(K,{key:d.value,label:d.label,value:d.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(fe,{gutter:20},{default:o(()=>[a(te,{span:8},{default:o(()=>[a(y,{label:"写作水平",prop:"writing_experience"},{default:o(()=>[a(re,{modelValue:x.value.writing_experience,"onUpdate:modelValue":e[8]||(e[8]=d=>x.value.writing_experience=d),placeholder:"请选择写作水平",style:{width:"100%"}},{default:o(()=>[(R(),z(de,null,ce(be,d=>a(K,{key:d.value,label:d.label,value:d.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(fe,null,{default:o(()=>[a(te,{span:24},{default:o(()=>[a(y,{label:"身份证号",prop:"id_number"},{default:o(()=>[a(m,{modelValue:x.value.id_number,"onUpdate:modelValue":e[9]||(e[9]=d=>x.value.id_number=d),placeholder:"请输入身份证号",maxlength:"18","show-word-limit":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),r("div",ga,[e[40]||(e[40]=r("div",{class:"section-title"},"联系方式",-1)),a(fe,{gutter:20},{default:o(()=>[a(te,{span:12},{default:o(()=>[a(y,{label:"手机号1",prop:"phone_1"},{default:o(()=>[a(m,{modelValue:x.value.phone_1,"onUpdate:modelValue":e[10]||(e[10]=d=>x.value.phone_1=d),placeholder:"请输入手机号1"},null,8,["modelValue"])]),_:1})]),_:1}),a(te,{span:12},{default:o(()=>[a(y,{label:"手机号2",prop:"phone_2"},{default:o(()=>[a(m,{modelValue:x.value.phone_2,"onUpdate:modelValue":e[11]||(e[11]=d=>x.value.phone_2=d),placeholder:"请输入手机号2"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),r("div",_a,[e[41]||(e[41]=r("div",{class:"section-title"},"支付信息",-1)),a(fe,{gutter:20},{default:o(()=>[a(te,{span:12},{default:o(()=>[a(y,{label:"支付宝姓名",prop:"alipay_name",required:""},{default:o(()=>[a(m,{modelValue:x.value.alipay_name,"onUpdate:modelValue":e[12]||(e[12]=d=>x.value.alipay_name=d),placeholder:"请输入支付宝姓名"},null,8,["modelValue"])]),_:1})]),_:1}),a(te,{span:12},{default:o(()=>[a(y,{label:"支付宝账号",prop:"alipay_account",required:""},{default:o(()=>[a(m,{modelValue:x.value.alipay_account,"onUpdate:modelValue":e[13]||(e[13]=d=>x.value.alipay_account=d),placeholder:"请输入支付宝账号"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),r("div",ha,[e[42]||(e[42]=r("div",{class:"section-title"},"擅长内容",-1)),a(y,{prop:"specialized_content",class:"specialized-content"},{default:o(()=>[r("div",ma,[(R(),z(de,null,ce(we,d=>a(ee,{key:d.value,type:J.value.includes(d.value)?"primary":"info",class:"specialized-tag",onClick:W=>Ze(d.value)},{default:o(()=>[h(b(d.label),1)]),_:2},1032,["type","onClick"])),64))])]),_:1})])]),_:1},8,["model"])]),_:1},8,["title","modelValue"]),a(ge,{modelValue:B.value,"onUpdate:modelValue":e[16]||(e[16]=d=>B.value=d),title:"写手详情 - "+(((Be=f.value)==null?void 0:Be.name)||""),width:"800px","close-on-click-modal":!1,class:"writer-detail-dialog",onClosed:vt},{default:o(()=>{var d,W,le,C,ne;return[f.value?(R(),z("div",ba,[r("div",wa,[r("div",ya,[r("div",Ca,[a(ue,{size:80,src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${f.value.name}`},null,8,["src"])]),r("div",Da,[r("div",ka,[r("div",xa,b(f.value.name),1),r("div",Ta,b(f.value.writer_id),1)]),r("div",Ea,[a(ee,{size:"medium",effect:"plain"},{default:o(()=>[h(b(f.value.education),1)]),_:1}),a(ee,{size:"medium",type:"warning",effect:"plain"},{default:o(()=>[h(b(f.value.writing_experience),1)]),_:1}),f.value.is_activated===1?(R(),ve(ee,{key:0,size:"medium",type:"success",effect:"plain"},{default:o(()=>e[45]||(e[45]=[h("已开通账号")])),_:1})):(R(),ve(ee,{key:1,size:"medium",type:"info",effect:"plain"},{default:o(()=>e[46]||(e[46]=[h("未开通账号")])),_:1}))])])])]),(d=f.value)!=null&&d.latest_rating?(R(),z("div",Ra,[r("div",Aa,[r("div",La,[a(A,null,{default:o(()=>[a(E(Ne))]),_:1}),e[47]||(e[47]=r("span",null,"最新评分信息",-1))]),r("div",Pa,b(f.value.latest_rating.date),1)]),r("div",Ba,[r("div",Ia,[r("div",Va,[r("span",Ma,b(typeof f.value.latest_rating.score=="string"?parseFloat(f.value.latest_rating.score).toFixed(1):f.value.latest_rating.score.toFixed(1)),1),e[48]||(e[48]=r("div",{class:"score-label"},"综合评分",-1))]),r("div",Sa,[a(Pe,{"model-value":f.value.latest_rating?Number(f.value.latest_rating.score):0,disabled:"","show-score":"",colors:g,max:10,"allow-half":!0,"text-color":"#ff9900"},null,8,["model-value"])])]),r("div",za,[r("div",Na,[e[49]||(e[49]=r("div",{class:"comment-title"},"评价内容",-1)),(W=f.value.latest_rating)!=null&&W.quality_inspector?(R(),z("div",Ua,[a(ue,{size:24,src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${((le=f.value.latest_rating.quality_inspector)==null?void 0:le.name)||"default"}`},null,8,["src"]),r("span",null,b((C=f.value.latest_rating.quality_inspector)==null?void 0:C.name),1)])):_e("",!0)]),r("div",Oa,b(f.value.latest_rating.comment),1),r("div",Ha,[h(" 评分时间: "+b(xe(f.value.latest_rating.created_at))+" ",1),f.value.latest_rating.updated_at!==f.value.latest_rating.created_at?(R(),z("span",Fa," (更新于: "+b(xe(f.value.latest_rating.updated_at))+") ",1)):_e("",!0)])])])])):_e("",!0),r("div",Qa,[a(_t,{column:2,border:""},{default:o(()=>[a(G,{"label-class-name":"detail-label","content-class-name":"detail-content"},{label:o(()=>[r("div",$a,[a(A,null,{default:o(()=>[a(E(Se))]),_:1}),e[50]||(e[50]=r("span",null,"姓名",-1))])]),default:o(()=>[h(" "+b(f.value.name),1)]),_:1}),a(G,{"label-class-name":"detail-label","content-class-name":"detail-content"},{label:o(()=>[r("div",Ga,[a(A,null,{default:o(()=>[a(E(Ue))]),_:1}),e[51]||(e[51]=r("span",null,"专业",-1))])]),default:o(()=>[h(" "+b(f.value.major),1)]),_:1}),a(G,{"label-class-name":"detail-label","content-class-name":"detail-content"},{label:o(()=>[r("div",Wa,[a(A,null,{default:o(()=>[a(E(Vt))]),_:1}),e[52]||(e[52]=r("span",null,"学历",-1))])]),default:o(()=>[h(" "+b(f.value.education),1)]),_:1}),a(G,{"label-class-name":"detail-label","content-class-name":"detail-content"},{label:o(()=>[r("div",qa,[a(A,null,{default:o(()=>[a(E(Mt))]),_:1}),e[53]||(e[53]=r("span",null,"主修方向",-1))])]),default:o(()=>[h(" "+b(f.value.major),1)]),_:1}),a(G,{"label-class-name":"detail-label","content-class-name":"detail-content"},{label:o(()=>[r("div",Ka,[a(A,null,{default:o(()=>[a(E(Ne))]),_:1}),e[54]||(e[54]=r("span",null,"写作水平",-1))])]),default:o(()=>[h(" "+b(f.value.writing_experience),1)]),_:1}),a(G,{"label-class-name":"detail-label","content-class-name":"detail-content"},{label:o(()=>[r("div",Xa,[a(A,null,{default:o(()=>[a(E(St))]),_:1}),e[55]||(e[55]=r("span",null,"手机号1",-1))])]),default:o(()=>[h(" "+b(f.value.phone_1),1)]),_:1}),a(G,{"label-class-name":"detail-label","content-class-name":"detail-content"},{label:o(()=>[r("div",Ya,[a(A,null,{default:o(()=>[a(E(zt))]),_:1}),e[56]||(e[56]=r("span",null,"手机号2",-1))])]),default:o(()=>[h(" "+b(f.value.phone_2||"无"),1)]),_:1}),a(G,{"label-class-name":"detail-label","content-class-name":"detail-content"},{label:o(()=>[r("div",Ja,[a(A,null,{default:o(()=>[a(E(Nt))]),_:1}),e[57]||(e[57]=r("span",null,"支付宝姓名",-1))])]),default:o(()=>[h(" "+b(f.value.alipay_name),1)]),_:1}),a(G,{"label-class-name":"detail-label","content-class-name":"detail-content"},{label:o(()=>[r("div",ja,[a(A,null,{default:o(()=>[a(E(Ut))]),_:1}),e[58]||(e[58]=r("span",null,"支付宝账号",-1))])]),default:o(()=>[h(" "+b(f.value.alipay_account),1)]),_:1}),a(G,{"label-class-name":"detail-label","content-class-name":"detail-content"},{label:o(()=>[r("div",Za,[a(A,null,{default:o(()=>[a(E(Ot))]),_:1}),e[59]||(e[59]=r("span",null,"身份证号",-1))])]),default:o(()=>[h(" "+b(f.value.id_number),1)]),_:1}),a(G,{"label-class-name":"detail-label","content-class-name":"detail-content"},{label:o(()=>[r("div",el,[a(A,null,{default:o(()=>[a(E(Ht))]),_:1}),e[60]||(e[60]=r("span",null,"IP地址",-1))])]),default:o(()=>[h(" "+b(f.value.ip_address||"无"),1)]),_:1}),a(G,{"label-class-name":"detail-label","content-class-name":"detail-content"},{label:o(()=>[r("div",tl,[a(A,null,{default:o(()=>[a(E(Ft))]),_:1}),e[61]||(e[61]=r("span",null,"创建时间",-1))])]),default:o(()=>[h(" "+b(f.value.created_time?E(ke)(f.value.created_time):"无"),1)]),_:1}),a(G,{"label-class-name":"detail-label","content-class-name":"detail-content"},{label:o(()=>[r("div",al,[a(A,null,{default:o(()=>[a(E(Ue))]),_:1}),e[62]||(e[62]=r("span",null,"创建人",-1))])]),default:o(()=>[h(" "+b(f.value.created_by||"无"),1)]),_:1}),a(G,{"label-class-name":"detail-label","content-class-name":"detail-content"},{label:o(()=>[r("div",ll,[a(A,null,{default:o(()=>[a(E(Qt))]),_:1}),e[63]||(e[63]=r("span",null,"最后修改时间",-1))])]),default:o(()=>[h(" "+b(f.value.last_modified_time?E(ke)(f.value.last_modified_time):"无"),1)]),_:1}),a(G,{"label-class-name":"detail-label","content-class-name":"detail-content"},{label:o(()=>[r("div",nl,[a(A,null,{default:o(()=>[a(E(Me))]),_:1}),e[64]||(e[64]=r("span",null,"最后修改人",-1))])]),default:o(()=>[h(" "+b(f.value.last_modified_by||"无"),1)]),_:1})]),_:1}),r("div",sl,[r("div",il,[a(A,null,{default:o(()=>[a(E($t))]),_:1}),e[65]||(e[65]=r("span",null,"擅长内容",-1))]),r("div",ol,[(R(!0),z(de,null,ce((ne=f.value.specialized_content)==null?void 0:ne.split(";"),(j,Ct)=>(R(),ve(ee,{key:Ct,class:"specialized-tag",size:"small",effect:"plain"},{default:o(()=>[h(b(j),1)]),_:2},1024))),128))])])])])):_e("",!0)]}),_:1},8,["modelValue","title"]),a(ge,{title:"写手申请二维码",modelValue:se.value,"onUpdate:modelValue":e[17]||(e[17]=d=>se.value=d),width:"400px","close-on-click-modal":!1,class:"qr-dialog",onClosed:ft},{default:o(()=>[r("div",rl,[r("div",{ref_key:"qrCodeRef",ref:pe,class:"qr-code"},null,512),e[67]||(e[67]=r("p",{class:"qr-tip"},"扫描二维码进入写手申请页面",-1)),a(H,{type:"primary",onClick:tt},{default:o(()=>e[66]||(e[66]=[h("保存二维码")])),_:1})])]),_:1},8,["modelValue"]),a(ge,{modelValue:t.value,"onUpdate:modelValue":e[22]||(e[22]=d=>t.value=d),title:"写手评分",width:"550px","close-on-click-modal":!1,"custom-class":"writer-rating-dialog",onClosed:pt},{footer:o(()=>[r("div",xl,[a(H,{onClick:e[21]||(e[21]=d=>t.value=!1),class:"cancel-btn"},{default:o(()=>e[70]||(e[70]=[h("取消")])),_:1}),a(H,{type:"primary",onClick:nt,loading:v.value,class:"submit-btn"},{default:o(()=>e[71]||(e[71]=[h(" 提交评分 ")])),_:1},8,["loading"])])]),default:o(()=>{var d,W,le;return[r("div",ul,[r("div",dl,[a(ue,{size:60,src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${((d=n.value)==null?void 0:d.name)||"default"}`},null,8,["src"])]),r("div",cl,[r("div",vl,[r("h2",pl,b((W=n.value)==null?void 0:W.name),1),r("div",fl,b((le=n.value)==null?void 0:le.writer_id),1)]),r("div",gl,[a(ee,{size:"small",effect:"plain",type:"success"},{default:o(()=>{var C;return[h(b((C=n.value)==null?void 0:C.education),1)]}),_:1}),a(ee,{size:"small",effect:"plain",type:"warning"},{default:o(()=>{var C;return[h(b((C=n.value)==null?void 0:C.writing_experience),1)]}),_:1})])])]),r("div",_l,[a(Te,{ref_key:"ratingFormRef",ref:l,model:s.value,rules:u,"label-position":"top",class:"rating-form"},{default:o(()=>{var C,ne;return[r("div",{class:De(["score-section",{"has-rating":p.value}])},[e[68]||(e[68]=r("div",{class:"score-label"},[r("span",{class:"required-asterisk"},"*"),r("span",null,"评分 (1-10分)")],-1)),r("div",hl,[a(Pe,{modelValue:i.value,"onUpdate:modelValue":e[18]||(e[18]=j=>i.value=j),colors:g,"allow-half":!0,max:10,texts:w,"show-text":!0,onChange:ut,class:"star-rate"},null,8,["modelValue"])]),r("div",ml,[r("span",bl,b(typeof s.value.score=="number"?s.value.score.toFixed(1):s.value.score),1),a(ht,{modelValue:s.value.score,"onUpdate:modelValue":e[19]||(e[19]=j=>s.value.score=j),min:1,max:10,step:.1,precision:1,"controls-position":"right",class:"score-input"},null,8,["modelValue"])])],2),r("div",{class:De(["rating-tips",{"rating-updated":p.value}])},[a(A,null,{default:o(()=>[a(E(ze))]),_:1}),p.value?(R(),z("span",wl,"该写手今日已有评分，您可以查看或更新评分。评分时间: "+b(xe(p.value.created_at)),1)):(R(),z("span",yl,"评分范围: 1-10分，支持小数点后一位，每日仅能添加一次"))],2),a(y,{label:"评价内容",prop:"comment",class:"comment-item"},{default:o(()=>[a(m,{modelValue:s.value.comment,"onUpdate:modelValue":e[20]||(e[20]=j=>s.value.comment=j),type:"textarea",rows:5,placeholder:"请输入对写手的详细评价内容，如写作质量、响应速度、配合度等...",resize:"none",class:De(["comment-input",{"has-existing-content":p.value}])},null,8,["modelValue","class"])]),_:1}),p.value&&p.value.quality_inspector?(R(),z("div",Cl,[e[69]||(e[69]=r("div",{class:"inspector-label"},"评分人员",-1)),r("div",Dl,[a(ue,{size:28,src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${((C=p.value.quality_inspector)==null?void 0:C.name)||"default"}`,class:"inspector-avatar"},null,8,["src"]),r("span",kl,b((ne=p.value.quality_inspector)==null?void 0:ne.name),1)])])):_e("",!0)]}),_:1},8,["model"])])]}),_:1},8,["modelValue"]),a(ge,{modelValue:_.value,"onUpdate:modelValue":e[26]||(e[26]=d=>_.value=d),title:`评分历史 - ${((Ie=n.value)==null?void 0:Ie.name)||""}`,width:"700px","close-on-click-modal":!1,"custom-class":"rating-history-dialog",onClosed:ct},{default:o(()=>{var d,W,le;return[!I.value&&(!V.value||V.value.length===0)?(R(),z("div",Tl,[a(mt,{description:"暂无评分历史记录"})])):I.value?(R(),z("div",El,[a(bt,{rows:5,animated:""})])):(R(),z("div",Rl,[r("div",Al,[r("div",Ll,[a(ue,{size:50,src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${((d=n.value)==null?void 0:d.name)||"default"}`},null,8,["src"]),r("div",Pl,[r("div",Bl,b((W=n.value)==null?void 0:W.name),1),r("div",Il,b((le=n.value)==null?void 0:le.writer_id),1)])]),r("div",Vl,[a(wt,{modelValue:Q.value,"onUpdate:modelValue":e[23]||(e[23]=C=>Q.value=C),type:"monthrange","start-placeholder":"开始月份","end-placeholder":"结束月份","value-format":"YYYY-MM",onChange:st},null,8,["modelValue"])])]),a(Ae,{data:V.value,border:"",stripe:"",style:{width:"100%"},"header-cell-style":{background:"#f5f7fa",color:"#606266",fontWeight:"600"}},{default:o(()=>[a(q,{prop:"date",label:"日期",width:"120",align:"center"},{default:o(({row:C})=>[h(b(E(ke)(C.created_at||C.date)),1)]),_:1}),a(q,{prop:"score",label:"评分",width:"80",align:"center"},{default:o(({row:C})=>[r("span",{class:De(["history-score",rt(C.score)])},b(typeof C.score=="number"?C.score.toFixed(1):C.score),3)]),_:1}),a(q,{prop:"comment",label:"评价内容","min-width":"200"},{default:o(({row:C})=>[r("div",Ml,b(C.comment),1)]),_:1}),a(q,{prop:"inspector",label:"评分人",width:"120",align:"center"},{default:o(({row:C})=>{var ne,j;return[C.quality_inspector?(R(),z("div",Sl,[a(ue,{size:24,src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${((ne=C.quality_inspector)==null?void 0:ne.name)||"default"}`},null,8,["src"]),r("span",null,b((j=C.quality_inspector)==null?void 0:j.name),1)])):(R(),z("span",zl,"-"))]}),_:1})]),_:1},8,["data"]),r("div",Nl,[a(Le,{"current-page":S.value,"onUpdate:currentPage":e[24]||(e[24]=C=>S.value=C),"page-size":X.value,"onUpdate:pageSize":e[25]||(e[25]=C=>X.value=C),"page-sizes":[5,10,20],total:O.value,layout:"total, sizes, prev, pager, next",onSizeChange:it,onCurrentChange:ot},null,8,["current-page","page-size","total"])])]))]}),_:1},8,["modelValue","title"])])}}}),Kl=la(Ol,[["__scopeId","data-v-b8229fa6"]]);export{Kl as default};
//# sourceMappingURL=index-IwXF6coL.js.map
