import{x as e,aB as l,aA as a,r as u,f as o,k as r,ag as t,y as d,z as i,I as n,Q as p,A as s,P as m,H as c,O as v,a4 as _,G as b,K as g,L as f,u as h,M as y}from"./vendor-BVd4RN3d.js";import{E as V,c as w}from"./element-plus-CCDyQ1z5.js";import{c as j}from"./writer-BxWoWcMI.js";import{g as x}from"./ip-CGW4DFCM.js";import{f as k}from"./date-BKFy7LxP.js";import{_ as q}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./index-CFSbY6bd.js";const U={class:"application-container"},z={class:"form-card"},D={class:"tag-container"},A={class:"success-info"},C=q(e({__name:"index",setup(e){const q=l();a();const C=u(),Y=u(!1),$=u(!1),I=u(""),M=u(!1),P=u([]),O=u(),B="WriterApplication"===q.name,E=u({name:"",education:"",major:"",writing_experience:"",specialized_content:"",phone_1:"",phone_2:"",alipay_name:"",alipay_account:"",id_number:"",ip_address:"",apply_date:""}),G={name:[{required:!0,message:"请输入姓名",trigger:"blur"}],education:[{required:!0,message:"请选择学历",trigger:"change"}],major:[{required:!0,message:"请输入专业",trigger:"blur"}],writing_experience:[{required:!0,message:"请选择写作水平",trigger:"change"}],id_number:[{required:!0,message:"请输入身份证号",trigger:"blur"},{pattern:/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,message:"请输入正确的身份证号",trigger:"blur"}],phone_1:[{required:!0,message:"请输入手机号码",trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号码",trigger:"blur"}],specialized_content:[{required:!0,message:"请选择擅长内容",trigger:"change"}],alipay_name:[{required:!0,message:"请输入支付宝姓名",trigger:"blur"}],alipay_account:[{required:!0,message:"请输入支付宝账号",trigger:"blur"}]},H=[{value:"专科",label:"专科"},{value:"本科",label:"本科"},{value:"硕士",label:"硕士"},{value:"博士",label:"博士"}],K=[{value:"大学水平",label:"大学水平"},{value:"在职水平",label:"在职水平"},{value:"事业单位水平",label:"事业单位水平"},{value:"淘宝老手",label:"淘宝老手"},{value:"在职老师",label:"在职老师"},{value:"期刊报告科研",label:"期刊报告科研"}],L=[{value:"ppt制作",label:"PPT制作"},{value:"演讲稿、征文、读后感",label:"演讲稿/征文/读后感"},{value:"公文类、对照材料、生活会、讲话稿，公文材料、研讨材料、领导讲话",label:"公文材料/讲话稿"},{value:"调查报告、学术报告、期刊、研究性文章",label:"报告/期刊/论文"},{value:"广告词、广告语、推文、商业文案",label:"广告/文案"},{value:"商业计划书、策划方案、项目可行性研究报告",label:"计划书/方案"},{value:"保洁、物业、工程、绿化、采购标书",label:"标书类"},{value:"抄写",label:"抄写"}];o(O,(e=>{E.value.apply_date=k(e)}));const Q=async()=>{if(C.value)try{await C.value.validate(),Y.value=!0;const e=await x();E.value.ip_address=e,B?await submitApplication(E.value):await j(E.value),V.success(B?"申请提交成功":"写手添加成功"),$.value=!0}catch(e){V.error("操作失败")}finally{Y.value=!1}},R=()=>{$.value=!1,window.close()};return r((()=>{M.value=!0;const e=k(new Date);E.value.apply_date=e,B||(O.value=new Date)})),(e,l)=>{const a=t("el-input"),u=t("el-form-item"),o=t("el-option"),r=t("el-select"),V=t("el-tag"),j=t("el-date-picker"),x=t("el-button"),k=t("el-form"),q=t("el-icon"),T=t("el-dialog");return d(),i("div",U,[n(s("div",z,[l[12]||(l[12]=s("h2",null,"写手申请",-1)),m(k,{ref_key:"formRef",ref:C,model:E.value,rules:G,"label-position":"top",class:"application-form"},{default:c((()=>[m(u,{label:"姓名",prop:"name"},{default:c((()=>[m(a,{modelValue:E.value.name,"onUpdate:modelValue":l[0]||(l[0]=e=>E.value.name=e),placeholder:"请输入姓名"},null,8,["modelValue"])])),_:1}),m(u,{label:"学历",prop:"education"},{default:c((()=>[m(r,{modelValue:E.value.education,"onUpdate:modelValue":l[1]||(l[1]=e=>E.value.education=e),placeholder:"请选择学历",style:{width:"100%"}},{default:c((()=>[(d(),i(v,null,_(H,(e=>m(o,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])),_:1}),m(u,{label:"专业",prop:"major"},{default:c((()=>[m(a,{modelValue:E.value.major,"onUpdate:modelValue":l[2]||(l[2]=e=>E.value.major=e),placeholder:"请输入专业"},null,8,["modelValue"])])),_:1}),m(u,{label:"写作水平",prop:"writing_experience"},{default:c((()=>[m(r,{modelValue:E.value.writing_experience,"onUpdate:modelValue":l[3]||(l[3]=e=>E.value.writing_experience=e),placeholder:"请选择写作水平",style:{width:"100%"}},{default:c((()=>[(d(),i(v,null,_(K,(e=>m(o,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])),_:1}),m(u,{label:"身份证号",prop:"id_number"},{default:c((()=>[m(a,{modelValue:E.value.id_number,"onUpdate:modelValue":l[4]||(l[4]=e=>E.value.id_number=e),placeholder:"请输入身份证号",maxlength:"18","show-word-limit":""},null,8,["modelValue"])])),_:1}),m(u,{label:"手机号码1",prop:"phone_1"},{default:c((()=>[m(a,{modelValue:E.value.phone_1,"onUpdate:modelValue":l[5]||(l[5]=e=>E.value.phone_1=e),placeholder:"请输入手机号码"},null,8,["modelValue"])])),_:1}),m(u,{label:"手机号码2",prop:"phone_2"},{default:c((()=>[m(a,{modelValue:E.value.phone_2,"onUpdate:modelValue":l[6]||(l[6]=e=>E.value.phone_2=e),placeholder:"请输入备用手机号码"},null,8,["modelValue"])])),_:1}),m(u,{label:"支付宝姓名",prop:"alipay_name",required:""},{default:c((()=>[m(a,{modelValue:E.value.alipay_name,"onUpdate:modelValue":l[7]||(l[7]=e=>E.value.alipay_name=e),placeholder:"请输入支付宝姓名"},null,8,["modelValue"])])),_:1}),m(u,{label:"支付宝账号",prop:"alipay_account",required:""},{default:c((()=>[m(a,{modelValue:E.value.alipay_account,"onUpdate:modelValue":l[8]||(l[8]=e=>E.value.alipay_account=e),placeholder:"请输入支付宝账号"},null,8,["modelValue"])])),_:1}),m(u,{label:"擅长内容",prop:"specialized_content"},{default:c((()=>[s("div",D,[(d(),i(v,null,_(L,(e=>m(V,{key:e.value,type:P.value.includes(e.value)?"primary":"info",class:"specialized-tag",onClick:l=>(e=>{const l=P.value.indexOf(e);-1===l?P.value.push(e):P.value.splice(l,1),E.value.specialized_content=P.value.join(";")})(e.value)},{default:c((()=>[f(y(e.label),1)])),_:2},1032,["type","onClick"]))),64))])])),_:1}),B?g("",!0):(d(),b(u,{key:0,label:"申请日期",prop:"apply_date"},{default:c((()=>[m(j,{modelValue:O.value,"onUpdate:modelValue":l[9]||(l[9]=e=>O.value=e),type:"date","value-format":"YYYY-MM-DD",placeholder:"选择日期"},null,8,["modelValue"])])),_:1})),m(u,null,{default:c((()=>[m(x,{type:"primary",class:"submit-btn",onClick:Q,loading:Y.value},{default:c((()=>l[11]||(l[11]=[f(" 提交申请 ")]))),_:1},8,["loading"])])),_:1})])),_:1},8,["model"])],512),[[p,M.value]]),m(T,{title:"申请提交成功",modelValue:$.value,"onUpdate:modelValue":l[10]||(l[10]=e=>$.value=e),width:"400px","close-on-click-modal":!1,"show-close":!1},{footer:c((()=>[m(x,{type:"primary",onClick:R},{default:c((()=>l[14]||(l[14]=[f("我已保存")]))),_:1})])),default:c((()=>[s("div",A,[m(q,{class:"success-icon"},{default:c((()=>[m(h(w))])),_:1}),s("h3",null,"您的写手ID："+y(I.value),1),l[13]||(l[13]=s("p",null,"请截图保存此信息",-1))])])),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-23546017"]]);export{C as default};
