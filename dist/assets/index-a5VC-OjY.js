import{d as P,k as W,u as T,r as s,m as L,n as X,b as r,o as m,c as f,p as G,v as H,f as d,e as a,w as t,F as V,q as y,s as J,t as K,h as w,g as Q,x as D,E as U,y as Z}from"./index-4kIbEQav.js";import{c as ee}from"./writer-BQAS4UPm.js";import{g as le}from"./ip-BtUT7s-A.js";import{f as C}from"./date-CLpD1YEj.js";import{_ as ae}from"./_plugin-vue_export-helper-DlAUqK2U.js";const oe={class:"application-container"},te={class:"form-card"},ue={class:"tag-container"},ne={class:"success-info"},re=P({__name:"index",setup(se){const z=W();T();const b=s(),g=s(!1),c=s(!1),j=s(""),x=s(!1),p=s([]),_=s(),v=z.name==="WriterApplication",o=s({name:"",education:"",major:"",writing_experience:"",specialized_content:"",phone_1:"",phone_2:"",alipay_name:"",alipay_account:"",id_number:"",ip_address:"",apply_date:""}),S={name:[{required:!0,message:"请输入姓名",trigger:"blur"}],education:[{required:!0,message:"请选择学历",trigger:"change"}],major:[{required:!0,message:"请输入专业",trigger:"blur"}],writing_experience:[{required:!0,message:"请选择写作水平",trigger:"change"}],id_number:[{required:!0,message:"请输入身份证号",trigger:"blur"},{pattern:/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,message:"请输入正确的身份证号",trigger:"blur"}],phone_1:[{required:!0,message:"请输入手机号码",trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号码",trigger:"blur"}],specialized_content:[{required:!0,message:"请选择擅长内容",trigger:"change"}],alipay_name:[{required:!0,message:"请输入支付宝姓名",trigger:"blur"}],alipay_account:[{required:!0,message:"请输入支付宝账号",trigger:"blur"}]},$=[{value:"专科",label:"专科"},{value:"本科",label:"本科"},{value:"硕士",label:"硕士"},{value:"博士",label:"博士"}],B=[{value:"大学水平",label:"大学水平"},{value:"在职水平",label:"在职水平"},{value:"事业单位水平",label:"事业单位水平"},{value:"淘宝老手",label:"淘宝老手"},{value:"在职老师",label:"在职老师"},{value:"期刊报告科研",label:"期刊报告科研"}],I=[{value:"ppt制作",label:"PPT制作"},{value:"演讲稿、征文、读后感",label:"演讲稿/征文/读后感"},{value:"公文类、对照材料、生活会、讲话稿，公文材料、研讨材料、领导讲话",label:"公文材料/讲话稿"},{value:"调查报告、学术报告、期刊、研究性文章",label:"报告/期刊/论文"},{value:"广告词、广告语、推文、商业文案",label:"广告/文案"},{value:"商业计划书、策划方案、项目可行性研究报告",label:"计划书/方案"},{value:"保洁、物业、工程、绿化、采购标书",label:"标书类"},{value:"抄写",label:"抄写"}],M=n=>{const l=p.value.indexOf(n);l===-1?p.value.push(n):p.value.splice(l,1),o.value.specialized_content=p.value.join(";")};L(_,n=>{o.value.apply_date=C(n)});const N=async()=>{if(b.value)try{await b.value.validate(),g.value=!0;const n=await le();o.value.ip_address=n,v?await submitApplication(o.value):await ee(o.value),U.success(v?"申请提交成功":"写手添加成功"),c.value=!0}catch(n){console.error("操作失败:",n),U.error("操作失败")}finally{g.value=!1}},O=()=>{c.value=!1,window.close()};return X(()=>{x.value=!0;const n=C(new Date);o.value.apply_date=n,v||(_.value=new Date)}),(n,l)=>{const i=r("el-input"),u=r("el-form-item"),k=r("el-option"),h=r("el-select"),R=r("el-tag"),Y=r("el-date-picker"),q=r("el-button"),A=r("el-form"),E=r("el-icon"),F=r("el-dialog");return m(),f("div",oe,[G(d("div",te,[l[12]||(l[12]=d("h2",null,"写手申请",-1)),a(A,{ref_key:"formRef",ref:b,model:o.value,rules:S,"label-position":"top",class:"application-form"},{default:t(()=>[a(u,{label:"姓名",prop:"name"},{default:t(()=>[a(i,{modelValue:o.value.name,"onUpdate:modelValue":l[0]||(l[0]=e=>o.value.name=e),placeholder:"请输入姓名"},null,8,["modelValue"])]),_:1}),a(u,{label:"学历",prop:"education"},{default:t(()=>[a(h,{modelValue:o.value.education,"onUpdate:modelValue":l[1]||(l[1]=e=>o.value.education=e),placeholder:"请选择学历",style:{width:"100%"}},{default:t(()=>[(m(),f(V,null,y($,e=>a(k,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),a(u,{label:"专业",prop:"major"},{default:t(()=>[a(i,{modelValue:o.value.major,"onUpdate:modelValue":l[2]||(l[2]=e=>o.value.major=e),placeholder:"请输入专业"},null,8,["modelValue"])]),_:1}),a(u,{label:"写作水平",prop:"writing_experience"},{default:t(()=>[a(h,{modelValue:o.value.writing_experience,"onUpdate:modelValue":l[3]||(l[3]=e=>o.value.writing_experience=e),placeholder:"请选择写作水平",style:{width:"100%"}},{default:t(()=>[(m(),f(V,null,y(B,e=>a(k,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),a(u,{label:"身份证号",prop:"id_number"},{default:t(()=>[a(i,{modelValue:o.value.id_number,"onUpdate:modelValue":l[4]||(l[4]=e=>o.value.id_number=e),placeholder:"请输入身份证号",maxlength:"18","show-word-limit":""},null,8,["modelValue"])]),_:1}),a(u,{label:"手机号码1",prop:"phone_1"},{default:t(()=>[a(i,{modelValue:o.value.phone_1,"onUpdate:modelValue":l[5]||(l[5]=e=>o.value.phone_1=e),placeholder:"请输入手机号码"},null,8,["modelValue"])]),_:1}),a(u,{label:"手机号码2",prop:"phone_2"},{default:t(()=>[a(i,{modelValue:o.value.phone_2,"onUpdate:modelValue":l[6]||(l[6]=e=>o.value.phone_2=e),placeholder:"请输入备用手机号码"},null,8,["modelValue"])]),_:1}),a(u,{label:"支付宝姓名",prop:"alipay_name",required:""},{default:t(()=>[a(i,{modelValue:o.value.alipay_name,"onUpdate:modelValue":l[7]||(l[7]=e=>o.value.alipay_name=e),placeholder:"请输入支付宝姓名"},null,8,["modelValue"])]),_:1}),a(u,{label:"支付宝账号",prop:"alipay_account",required:""},{default:t(()=>[a(i,{modelValue:o.value.alipay_account,"onUpdate:modelValue":l[8]||(l[8]=e=>o.value.alipay_account=e),placeholder:"请输入支付宝账号"},null,8,["modelValue"])]),_:1}),a(u,{label:"擅长内容",prop:"specialized_content"},{default:t(()=>[d("div",ue,[(m(),f(V,null,y(I,e=>a(R,{key:e.value,type:p.value.includes(e.value)?"primary":"info",class:"specialized-tag",onClick:ie=>M(e.value)},{default:t(()=>[w(D(e.label),1)]),_:2},1032,["type","onClick"])),64))])]),_:1}),v?K("",!0):(m(),J(u,{key:0,label:"申请日期",prop:"apply_date"},{default:t(()=>[a(Y,{modelValue:_.value,"onUpdate:modelValue":l[9]||(l[9]=e=>_.value=e),type:"date","value-format":"YYYY-MM-DD",placeholder:"选择日期"},null,8,["modelValue"])]),_:1})),a(u,null,{default:t(()=>[a(q,{type:"primary",class:"submit-btn",onClick:N,loading:g.value},{default:t(()=>l[11]||(l[11]=[w(" 提交申请 ")])),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])],512),[[H,x.value]]),a(F,{title:"申请提交成功",modelValue:c.value,"onUpdate:modelValue":l[10]||(l[10]=e=>c.value=e),width:"400px","close-on-click-modal":!1,"show-close":!1},{footer:t(()=>[a(q,{type:"primary",onClick:O},{default:t(()=>l[14]||(l[14]=[w("我已保存")])),_:1})]),default:t(()=>[d("div",ne,[a(E,{class:"success-icon"},{default:t(()=>[a(Q(Z))]),_:1}),d("h3",null,"您的写手ID："+D(j.value),1),l[13]||(l[13]=d("p",null,"请截图保存此信息",-1))])]),_:1},8,["modelValue"])])}}}),ve=ae(re,[["__scopeId","data-v-23546017"]]);export{ve as default};
//# sourceMappingURL=index-a5VC-OjY.js.map
